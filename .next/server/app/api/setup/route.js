"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/setup/route";
exports.ids = ["app/api/setup/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fsetup%2Froute&page=%2Fapi%2Fsetup%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsetup%2Froute.ts&appDir=%2FUsers%2Fbanik%2FDesktop%2FProjects2025%2FBMarkApp-NextJS%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fbanik%2FDesktop%2FProjects2025%2FBMarkApp-NextJS&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fsetup%2Froute&page=%2Fapi%2Fsetup%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsetup%2Froute.ts&appDir=%2FUsers%2Fbanik%2FDesktop%2FProjects2025%2FBMarkApp-NextJS%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fbanik%2FDesktop%2FProjects2025%2FBMarkApp-NextJS&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_banik_Desktop_Projects2025_BMarkApp_NextJS_app_api_setup_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/setup/route.ts */ \"(rsc)/./app/api/setup/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/setup/route\",\n        pathname: \"/api/setup\",\n        filename: \"route\",\n        bundlePath: \"app/api/setup/route\"\n    },\n    resolvedPagePath: \"/Users/banik/Desktop/Projects2025/BMarkApp-NextJS/app/api/setup/route.ts\",\n    nextConfigOutput,\n    userland: _Users_banik_Desktop_Projects2025_BMarkApp_NextJS_app_api_setup_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/setup/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZzZXR1cCUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGc2V0dXAlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZzZXR1cCUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRmJhbmlrJTJGRGVza3RvcCUyRlByb2plY3RzMjAyNSUyRkJNYXJrQXBwLU5leHRKUyUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGVXNlcnMlMkZiYW5payUyRkRlc2t0b3AlMkZQcm9qZWN0czIwMjUlMkZCTWFya0FwcC1OZXh0SlMmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ3dCO0FBQ3JHO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGxtLWNvbnNlbnN1cy1iZW5jaG1hcmstbmV4dGpzLz9iODAzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi9Vc2Vycy9iYW5pay9EZXNrdG9wL1Byb2plY3RzMjAyNS9CTWFya0FwcC1OZXh0SlMvYXBwL2FwaS9zZXR1cC9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvc2V0dXAvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9zZXR1cFwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvc2V0dXAvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvVXNlcnMvYmFuaWsvRGVza3RvcC9Qcm9qZWN0czIwMjUvQk1hcmtBcHAtTmV4dEpTL2FwcC9hcGkvc2V0dXAvcm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL3NldHVwL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fsetup%2Froute&page=%2Fapi%2Fsetup%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsetup%2Froute.ts&appDir=%2FUsers%2Fbanik%2FDesktop%2FProjects2025%2FBMarkApp-NextJS%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fbanik%2FDesktop%2FProjects2025%2FBMarkApp-NextJS&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/setup/route.ts":
/*!********************************!*\
  !*** ./app/api/setup/route.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/supabase */ \"(rsc)/./lib/supabase.ts\");\n\n\n// Helper function to get Supabase credentials from environment or headers\nfunction getSupabaseCredentials(request) {\n    // First try environment variables (for production)\n    const envUrl = \"https://rhwjusutkkwxypbqaoph.supabase.co\";\n    const envKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJod2p1c3V0a2t3eHlwYnFhb3BoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc4ODEzNjAsImV4cCI6MjA2MzQ1NzM2MH0.4cYuDuaZyxfG7T1lkkiLttDehiYg9LdWKwEq1tPLkXM\";\n    if (envUrl && envKey) {\n        return {\n            url: envUrl,\n            key: envKey\n        };\n    }\n    // Fall back to request headers (for development with settings page)\n    if (request) {\n        const headerUrl = request.headers.get(\"X-Supabase-URL\");\n        const headerKey = request.headers.get(\"X-Supabase-Key\");\n        if (headerUrl && headerKey) {\n            return {\n                url: headerUrl,\n                key: headerKey\n            };\n        }\n    }\n    return {\n        url: envUrl || null,\n        key: envKey || null\n    };\n}\n// Database schema setup SQL\nconst SCHEMA_SQL = `\n-- Enable necessary extensions\nCREATE EXTENSION IF NOT EXISTS \"uuid-ossp\";\n\n-- Models table\nCREATE TABLE IF NOT EXISTS models (\n    id UUID DEFAULT uuid_generate_v4() PRIMARY KEY,\n    name VARCHAR(255) NOT NULL,\n    provider VARCHAR(100) NOT NULL,\n    model_id VARCHAR(255) UNIQUE NOT NULL,\n    enabled BOOLEAN DEFAULT true,\n    context_length INTEGER DEFAULT 4096,\n    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),\n    updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()\n);\n\n-- Prompts table\nCREATE TABLE IF NOT EXISTS prompts (\n    id UUID DEFAULT uuid_generate_v4() PRIMARY KEY,\n    text TEXT NOT NULL,\n    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),\n    updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()\n);\n\n-- Responses table\nCREATE TABLE IF NOT EXISTS responses (\n    id UUID DEFAULT uuid_generate_v4() PRIMARY KEY,\n    prompt_id UUID REFERENCES prompts(id) ON DELETE CASCADE,\n    model_id UUID REFERENCES models(id) ON DELETE CASCADE,\n    response_text TEXT NOT NULL,\n    response_time_ms INTEGER NOT NULL,\n    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()\n);\n\n-- Consensus groups table\nCREATE TABLE IF NOT EXISTS consensus_groups (\n    id UUID DEFAULT uuid_generate_v4() PRIMARY KEY,\n    prompt_id UUID REFERENCES prompts(id) ON DELETE CASCADE,\n    group_name TEXT NOT NULL,\n    count INTEGER NOT NULL,\n    percentage DECIMAL(5,2),\n    color VARCHAR(7) NOT NULL,\n    models TEXT[],\n    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()\n);\n\n-- Create indexes for better performance\nCREATE INDEX IF NOT EXISTS idx_models_model_id ON models(model_id);\nCREATE INDEX IF NOT EXISTS idx_models_enabled ON models(enabled);\nCREATE INDEX IF NOT EXISTS idx_responses_prompt_id ON responses(prompt_id);\nCREATE INDEX IF NOT EXISTS idx_responses_model_id ON responses(model_id);\nCREATE INDEX IF NOT EXISTS idx_consensus_groups_prompt_id ON consensus_groups(prompt_id);\nCREATE INDEX IF NOT EXISTS idx_prompts_created_at ON prompts(created_at DESC);\n\n-- Enable Row Level Security (RLS)\nALTER TABLE models ENABLE ROW LEVEL SECURITY;\nALTER TABLE prompts ENABLE ROW LEVEL SECURITY;\nALTER TABLE responses ENABLE ROW LEVEL SECURITY;\nALTER TABLE consensus_groups ENABLE ROW LEVEL SECURITY;\n\n-- Create policies for public access\nCREATE POLICY \"Enable read access for all users\" ON models FOR SELECT USING (true);\nCREATE POLICY \"Enable insert access for all users\" ON models FOR INSERT WITH CHECK (true);\nCREATE POLICY \"Enable update access for all users\" ON models FOR UPDATE USING (true);\nCREATE POLICY \"Enable delete access for all users\" ON models FOR DELETE USING (true);\n\nCREATE POLICY \"Enable read access for all users\" ON prompts FOR SELECT USING (true);\nCREATE POLICY \"Enable insert access for all users\" ON prompts FOR INSERT WITH CHECK (true);\nCREATE POLICY \"Enable update access for all users\" ON prompts FOR UPDATE USING (true);\nCREATE POLICY \"Enable delete access for all users\" ON prompts FOR DELETE USING (true);\n\nCREATE POLICY \"Enable read access for all users\" ON responses FOR SELECT USING (true);\nCREATE POLICY \"Enable insert access for all users\" ON responses FOR INSERT WITH CHECK (true);\nCREATE POLICY \"Enable update access for all users\" ON responses FOR UPDATE USING (true);\nCREATE POLICY \"Enable delete access for all users\" ON responses FOR DELETE USING (true);\n\nCREATE POLICY \"Enable read access for all users\" ON consensus_groups FOR SELECT USING (true);\nCREATE POLICY \"Enable insert access for all users\" ON consensus_groups FOR INSERT WITH CHECK (true);\nCREATE POLICY \"Enable update access for all users\" ON consensus_groups FOR UPDATE USING (true);\nCREATE POLICY \"Enable delete access for all users\" ON consensus_groups FOR DELETE USING (true);\n\n-- Create updated_at trigger function\nCREATE OR REPLACE FUNCTION update_updated_at_column()\nRETURNS TRIGGER AS $$\nBEGIN\n    NEW.updated_at = NOW();\n    RETURN NEW;\nEND;\n$$ language 'plpgsql';\n\n-- Create triggers for updated_at\nCREATE TRIGGER update_models_updated_at BEFORE UPDATE ON models FOR EACH ROW EXECUTE FUNCTION update_updated_at_column();\nCREATE TRIGGER update_prompts_updated_at BEFORE UPDATE ON prompts FOR EACH ROW EXECUTE FUNCTION update_updated_at_column();\n\n-- Insert some example data\nINSERT INTO models (name, provider, model_id, enabled, context_length) VALUES\n    ('GPT-4o', 'OpenAI', 'openai/gpt-4o', true, 128000),\n    ('Claude 3.5 Sonnet', 'Anthropic', 'anthropic/claude-3-5-sonnet', true, 200000),\n    ('Gemini Pro 1.5', 'Google', 'google/gemini-pro-1.5', true, 2000000)\nON CONFLICT (model_id) DO NOTHING;\n`;\n// GET: Check database setup status\nasync function GET(request) {\n    try {\n        const credentials = getSupabaseCredentials(request);\n        if (!credentials.url || !credentials.key) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Supabase credentials not configured. Please set them in environment variables or via the settings page.\"\n            }, {\n                status: 400\n            });\n        }\n        // Try to query the models table to check if setup is complete\n        const { data, error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.from(\"models\").select(\"id\").limit(1);\n        if (error) {\n            // If there's an error, it likely means tables don't exist\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                setupRequired: true,\n                error: error.message,\n                message: \"Database tables need to be created\"\n            });\n        }\n        // Get actual count\n        const { count } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.from(\"models\").select(\"*\", {\n            count: \"exact\",\n            head: true\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            setupRequired: false,\n            message: \"Database is already set up\",\n            modelCount: count || 0\n        });\n    } catch (error) {\n        console.error(\"Error checking database setup:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: error instanceof Error ? error.message : \"Failed to check database setup\"\n        }, {\n            status: 500\n        });\n    }\n}\n// POST: Run database setup\nasync function POST(request) {\n    try {\n        const credentials = getSupabaseCredentials(request);\n        if (!credentials.url || !credentials.key) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Supabase credentials not configured. Please set them in environment variables or via the settings page.\"\n            }, {\n                status: 400\n            });\n        }\n        // Execute the schema SQL\n        const { data, error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.rpc(\"exec_sql\", {\n            sql_query: SCHEMA_SQL\n        });\n        if (error) {\n            // If rpc doesn't work, try direct execution\n            console.log(\"RPC failed, trying direct execution:\", error);\n            // Split SQL into individual statements and execute them\n            const statements = SCHEMA_SQL.split(\";\").map((stmt)=>stmt.trim()).filter((stmt)=>stmt.length > 0);\n            const results = [];\n            let hasError = false;\n            for (const statement of statements){\n                try {\n                    const { data: result, error: stmtError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.from(\"_temp_setup\").select(\"*\").limit(0) // This will fail but allows us to test connection\n                    ;\n                    if (stmtError && !hasError) {\n                        hasError = true;\n                        break;\n                    }\n                    results.push({\n                        statement: statement.substring(0, 50) + \"...\",\n                        success: true\n                    });\n                } catch (e) {\n                    results.push({\n                        statement: statement.substring(0, 50) + \"...\",\n                        success: false,\n                        error: e\n                    });\n                    break;\n                }\n            }\n            if (hasError) {\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    error: \"Failed to execute database setup. Please run the SQL manually in your Supabase dashboard.\",\n                    sqlFile: \"/database/schema.sql\",\n                    instructions: \"Copy the contents of database/schema.sql and run it in your Supabase SQL Editor\"\n                }, {\n                    status: 500\n                });\n            }\n        }\n        // Verify setup by checking if we can query models\n        const { data: models, error: verifyError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.from(\"models\").select(\"id\").limit(1);\n        if (verifyError) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Database setup may have failed. Please run the SQL manually.\",\n                sqlFile: \"/database/schema.sql\",\n                instructions: \"Copy the contents of database/schema.sql and run it in your Supabase SQL Editor\"\n            }, {\n                status: 500\n            });\n        }\n        // Get actual count\n        const { count } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.from(\"models\").select(\"*\", {\n            count: \"exact\",\n            head: true\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            message: \"Database setup completed successfully!\",\n            modelCount: count || 0,\n            tablesCreated: [\n                \"models\",\n                \"prompts\",\n                \"responses\",\n                \"consensus_groups\"\n            ]\n        });\n    } catch (error) {\n        console.error(\"Error setting up database:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to set up database automatically. Please run the SQL manually.\",\n            sqlFile: \"/database/schema.sql\",\n            instructions: \"Copy the contents of database/schema.sql and run it in your Supabase SQL Editor\",\n            details: error instanceof Error ? error.message : \"Unknown error\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL3NldHVwL3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBdUQ7QUFDZDtBQUV6QywwRUFBMEU7QUFDMUUsU0FBU0UsdUJBQXVCQyxPQUFxQjtJQUNuRCxtREFBbUQ7SUFDbkQsTUFBTUMsU0FBU0MsMENBQW9DO0lBQ25ELE1BQU1HLFNBQVNILGtOQUF5QztJQUV4RCxJQUFJRCxVQUFVSSxRQUFRO1FBQ3BCLE9BQU87WUFBRUUsS0FBS047WUFBUU8sS0FBS0g7UUFBTztJQUNwQztJQUVBLG9FQUFvRTtJQUNwRSxJQUFJTCxTQUFTO1FBQ1gsTUFBTVMsWUFBWVQsUUFBUVUsT0FBTyxDQUFDQyxHQUFHLENBQUM7UUFDdEMsTUFBTUMsWUFBWVosUUFBUVUsT0FBTyxDQUFDQyxHQUFHLENBQUM7UUFFdEMsSUFBSUYsYUFBYUcsV0FBVztZQUMxQixPQUFPO2dCQUFFTCxLQUFLRTtnQkFBV0QsS0FBS0k7WUFBVTtRQUMxQztJQUNGO0lBRUEsT0FBTztRQUFFTCxLQUFLTixVQUFVO1FBQU1PLEtBQUtILFVBQVU7SUFBSztBQUNwRDtBQUVBLDRCQUE0QjtBQUM1QixNQUFNUSxhQUFhLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFvR3BCLENBQUM7QUFFRCxtQ0FBbUM7QUFDNUIsZUFBZUMsSUFBSWQsT0FBb0I7SUFDNUMsSUFBSTtRQUNGLE1BQU1lLGNBQWNoQix1QkFBdUJDO1FBRTNDLElBQUksQ0FBQ2UsWUFBWVIsR0FBRyxJQUFJLENBQUNRLFlBQVlQLEdBQUcsRUFBRTtZQUN4QyxPQUFPWCxxREFBWUEsQ0FBQ21CLElBQUksQ0FDdEI7Z0JBQUVDLE9BQU87WUFBMEcsR0FDbkg7Z0JBQUVDLFFBQVE7WUFBSTtRQUVsQjtRQUVBLDhEQUE4RDtRQUM5RCxNQUFNLEVBQUVDLElBQUksRUFBRUYsS0FBSyxFQUFFLEdBQUcsTUFBTW5CLG1EQUFRQSxDQUNuQ3NCLElBQUksQ0FBQyxVQUNMQyxNQUFNLENBQUMsTUFDUEMsS0FBSyxDQUFDO1FBRVQsSUFBSUwsT0FBTztZQUNULDBEQUEwRDtZQUMxRCxPQUFPcEIscURBQVlBLENBQUNtQixJQUFJLENBQUM7Z0JBQ3ZCTyxlQUFlO2dCQUNmTixPQUFPQSxNQUFNTyxPQUFPO2dCQUNwQkEsU0FBUztZQUNYO1FBQ0Y7UUFFQSxtQkFBbUI7UUFDbkIsTUFBTSxFQUFFQyxLQUFLLEVBQUUsR0FBRyxNQUFNM0IsbURBQVFBLENBQzdCc0IsSUFBSSxDQUFDLFVBQ0xDLE1BQU0sQ0FBQyxLQUFLO1lBQUVJLE9BQU87WUFBU0MsTUFBTTtRQUFLO1FBRTVDLE9BQU83QixxREFBWUEsQ0FBQ21CLElBQUksQ0FBQztZQUN2Qk8sZUFBZTtZQUNmQyxTQUFTO1lBQ1RHLFlBQVlGLFNBQVM7UUFDdkI7SUFFRixFQUFFLE9BQU9SLE9BQU87UUFDZFcsUUFBUVgsS0FBSyxDQUFDLGtDQUFrQ0E7UUFDaEQsT0FBT3BCLHFEQUFZQSxDQUFDbUIsSUFBSSxDQUN0QjtZQUFFQyxPQUFPQSxpQkFBaUJZLFFBQVFaLE1BQU1PLE9BQU8sR0FBRztRQUFpQyxHQUNuRjtZQUFFTixRQUFRO1FBQUk7SUFFbEI7QUFDRjtBQUVBLDJCQUEyQjtBQUNwQixlQUFlWSxLQUFLOUIsT0FBb0I7SUFDN0MsSUFBSTtRQUNGLE1BQU1lLGNBQWNoQix1QkFBdUJDO1FBRTNDLElBQUksQ0FBQ2UsWUFBWVIsR0FBRyxJQUFJLENBQUNRLFlBQVlQLEdBQUcsRUFBRTtZQUN4QyxPQUFPWCxxREFBWUEsQ0FBQ21CLElBQUksQ0FDdEI7Z0JBQUVDLE9BQU87WUFBMEcsR0FDbkg7Z0JBQUVDLFFBQVE7WUFBSTtRQUVsQjtRQUVBLHlCQUF5QjtRQUN6QixNQUFNLEVBQUVDLElBQUksRUFBRUYsS0FBSyxFQUFFLEdBQUcsTUFBTW5CLG1EQUFRQSxDQUFDaUMsR0FBRyxDQUFDLFlBQVk7WUFDckRDLFdBQVduQjtRQUNiO1FBRUEsSUFBSUksT0FBTztZQUNULDRDQUE0QztZQUM1Q1csUUFBUUssR0FBRyxDQUFDLHdDQUF3Q2hCO1lBRXBELHdEQUF3RDtZQUN4RCxNQUFNaUIsYUFBYXJCLFdBQ2hCc0IsS0FBSyxDQUFDLEtBQ05DLEdBQUcsQ0FBQ0MsQ0FBQUEsT0FBUUEsS0FBS0MsSUFBSSxJQUNyQkMsTUFBTSxDQUFDRixDQUFBQSxPQUFRQSxLQUFLRyxNQUFNLEdBQUc7WUFFaEMsTUFBTUMsVUFBVSxFQUFFO1lBQ2xCLElBQUlDLFdBQVc7WUFFZixLQUFLLE1BQU1DLGFBQWFULFdBQVk7Z0JBQ2xDLElBQUk7b0JBQ0YsTUFBTSxFQUFFZixNQUFNeUIsTUFBTSxFQUFFM0IsT0FBTzRCLFNBQVMsRUFBRSxHQUFHLE1BQU0vQyxtREFBUUEsQ0FDdERzQixJQUFJLENBQUMsZUFDTEMsTUFBTSxDQUFDLEtBQ1BDLEtBQUssQ0FBQyxHQUFHLGtEQUFrRDs7b0JBRTlELElBQUl1QixhQUFhLENBQUNILFVBQVU7d0JBQzFCQSxXQUFXO3dCQUNYO29CQUNGO29CQUNBRCxRQUFRSyxJQUFJLENBQUM7d0JBQUVILFdBQVdBLFVBQVVJLFNBQVMsQ0FBQyxHQUFHLE1BQU07d0JBQU9DLFNBQVM7b0JBQUs7Z0JBQzlFLEVBQUUsT0FBT0MsR0FBRztvQkFDVlIsUUFBUUssSUFBSSxDQUFDO3dCQUFFSCxXQUFXQSxVQUFVSSxTQUFTLENBQUMsR0FBRyxNQUFNO3dCQUFPQyxTQUFTO3dCQUFPL0IsT0FBT2dDO29CQUFFO29CQUN2RjtnQkFDRjtZQUNGO1lBRUEsSUFBSVAsVUFBVTtnQkFDWixPQUFPN0MscURBQVlBLENBQUNtQixJQUFJLENBQ3RCO29CQUNFQyxPQUFPO29CQUNQaUMsU0FBUztvQkFDVEMsY0FBYztnQkFDaEIsR0FDQTtvQkFBRWpDLFFBQVE7Z0JBQUk7WUFFbEI7UUFDRjtRQUVBLGtEQUFrRDtRQUNsRCxNQUFNLEVBQUVDLE1BQU1pQyxNQUFNLEVBQUVuQyxPQUFPb0MsV0FBVyxFQUFFLEdBQUcsTUFBTXZELG1EQUFRQSxDQUN4RHNCLElBQUksQ0FBQyxVQUNMQyxNQUFNLENBQUMsTUFDUEMsS0FBSyxDQUFDO1FBRVQsSUFBSStCLGFBQWE7WUFDZixPQUFPeEQscURBQVlBLENBQUNtQixJQUFJLENBQ3RCO2dCQUNFQyxPQUFPO2dCQUNQaUMsU0FBUztnQkFDVEMsY0FBYztZQUNoQixHQUNBO2dCQUFFakMsUUFBUTtZQUFJO1FBRWxCO1FBRUEsbUJBQW1CO1FBQ25CLE1BQU0sRUFBRU8sS0FBSyxFQUFFLEdBQUcsTUFBTTNCLG1EQUFRQSxDQUM3QnNCLElBQUksQ0FBQyxVQUNMQyxNQUFNLENBQUMsS0FBSztZQUFFSSxPQUFPO1lBQVNDLE1BQU07UUFBSztRQUU1QyxPQUFPN0IscURBQVlBLENBQUNtQixJQUFJLENBQUM7WUFDdkJnQyxTQUFTO1lBQ1R4QixTQUFTO1lBQ1RHLFlBQVlGLFNBQVM7WUFDckI2QixlQUFlO2dCQUFDO2dCQUFVO2dCQUFXO2dCQUFhO2FBQW1CO1FBQ3ZFO0lBRUYsRUFBRSxPQUFPckMsT0FBTztRQUNkVyxRQUFRWCxLQUFLLENBQUMsOEJBQThCQTtRQUM1QyxPQUFPcEIscURBQVlBLENBQUNtQixJQUFJLENBQ3RCO1lBQ0VDLE9BQU87WUFDUGlDLFNBQVM7WUFDVEMsY0FBYztZQUNkSSxTQUFTdEMsaUJBQWlCWSxRQUFRWixNQUFNTyxPQUFPLEdBQUc7UUFDcEQsR0FDQTtZQUFFTixRQUFRO1FBQUk7SUFFbEI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2xsbS1jb25zZW5zdXMtYmVuY2htYXJrLW5leHRqcy8uL2FwcC9hcGkvc2V0dXAvcm91dGUudHM/Njk5ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInXG5pbXBvcnQgeyBzdXBhYmFzZSB9IGZyb20gJ0AvbGliL3N1cGFiYXNlJ1xuXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gZ2V0IFN1cGFiYXNlIGNyZWRlbnRpYWxzIGZyb20gZW52aXJvbm1lbnQgb3IgaGVhZGVyc1xuZnVuY3Rpb24gZ2V0U3VwYWJhc2VDcmVkZW50aWFscyhyZXF1ZXN0PzogTmV4dFJlcXVlc3QpIHtcbiAgLy8gRmlyc3QgdHJ5IGVudmlyb25tZW50IHZhcmlhYmxlcyAoZm9yIHByb2R1Y3Rpb24pXG4gIGNvbnN0IGVudlVybCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTFxuICBjb25zdCBlbnZLZXkgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWVxuICBcbiAgaWYgKGVudlVybCAmJiBlbnZLZXkpIHtcbiAgICByZXR1cm4geyB1cmw6IGVudlVybCwga2V5OiBlbnZLZXkgfVxuICB9XG4gIFxuICAvLyBGYWxsIGJhY2sgdG8gcmVxdWVzdCBoZWFkZXJzIChmb3IgZGV2ZWxvcG1lbnQgd2l0aCBzZXR0aW5ncyBwYWdlKVxuICBpZiAocmVxdWVzdCkge1xuICAgIGNvbnN0IGhlYWRlclVybCA9IHJlcXVlc3QuaGVhZGVycy5nZXQoJ1gtU3VwYWJhc2UtVVJMJylcbiAgICBjb25zdCBoZWFkZXJLZXkgPSByZXF1ZXN0LmhlYWRlcnMuZ2V0KCdYLVN1cGFiYXNlLUtleScpXG4gICAgXG4gICAgaWYgKGhlYWRlclVybCAmJiBoZWFkZXJLZXkpIHtcbiAgICAgIHJldHVybiB7IHVybDogaGVhZGVyVXJsLCBrZXk6IGhlYWRlcktleSB9XG4gICAgfVxuICB9XG4gIFxuICByZXR1cm4geyB1cmw6IGVudlVybCB8fCBudWxsLCBrZXk6IGVudktleSB8fCBudWxsIH1cbn1cblxuLy8gRGF0YWJhc2Ugc2NoZW1hIHNldHVwIFNRTFxuY29uc3QgU0NIRU1BX1NRTCA9IGBcbi0tIEVuYWJsZSBuZWNlc3NhcnkgZXh0ZW5zaW9uc1xuQ1JFQVRFIEVYVEVOU0lPTiBJRiBOT1QgRVhJU1RTIFwidXVpZC1vc3NwXCI7XG5cbi0tIE1vZGVscyB0YWJsZVxuQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgbW9kZWxzIChcbiAgICBpZCBVVUlEIERFRkFVTFQgdXVpZF9nZW5lcmF0ZV92NCgpIFBSSU1BUlkgS0VZLFxuICAgIG5hbWUgVkFSQ0hBUigyNTUpIE5PVCBOVUxMLFxuICAgIHByb3ZpZGVyIFZBUkNIQVIoMTAwKSBOT1QgTlVMTCxcbiAgICBtb2RlbF9pZCBWQVJDSEFSKDI1NSkgVU5JUVVFIE5PVCBOVUxMLFxuICAgIGVuYWJsZWQgQk9PTEVBTiBERUZBVUxUIHRydWUsXG4gICAgY29udGV4dF9sZW5ndGggSU5URUdFUiBERUZBVUxUIDQwOTYsXG4gICAgY3JlYXRlZF9hdCBUSU1FU1RBTVAgV0lUSCBUSU1FIFpPTkUgREVGQVVMVCBOT1coKSxcbiAgICB1cGRhdGVkX2F0IFRJTUVTVEFNUCBXSVRIIFRJTUUgWk9ORSBERUZBVUxUIE5PVygpXG4pO1xuXG4tLSBQcm9tcHRzIHRhYmxlXG5DUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBwcm9tcHRzIChcbiAgICBpZCBVVUlEIERFRkFVTFQgdXVpZF9nZW5lcmF0ZV92NCgpIFBSSU1BUlkgS0VZLFxuICAgIHRleHQgVEVYVCBOT1QgTlVMTCxcbiAgICBjcmVhdGVkX2F0IFRJTUVTVEFNUCBXSVRIIFRJTUUgWk9ORSBERUZBVUxUIE5PVygpLFxuICAgIHVwZGF0ZWRfYXQgVElNRVNUQU1QIFdJVEggVElNRSBaT05FIERFRkFVTFQgTk9XKClcbik7XG5cbi0tIFJlc3BvbnNlcyB0YWJsZVxuQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgcmVzcG9uc2VzIChcbiAgICBpZCBVVUlEIERFRkFVTFQgdXVpZF9nZW5lcmF0ZV92NCgpIFBSSU1BUlkgS0VZLFxuICAgIHByb21wdF9pZCBVVUlEIFJFRkVSRU5DRVMgcHJvbXB0cyhpZCkgT04gREVMRVRFIENBU0NBREUsXG4gICAgbW9kZWxfaWQgVVVJRCBSRUZFUkVOQ0VTIG1vZGVscyhpZCkgT04gREVMRVRFIENBU0NBREUsXG4gICAgcmVzcG9uc2VfdGV4dCBURVhUIE5PVCBOVUxMLFxuICAgIHJlc3BvbnNlX3RpbWVfbXMgSU5URUdFUiBOT1QgTlVMTCxcbiAgICBjcmVhdGVkX2F0IFRJTUVTVEFNUCBXSVRIIFRJTUUgWk9ORSBERUZBVUxUIE5PVygpXG4pO1xuXG4tLSBDb25zZW5zdXMgZ3JvdXBzIHRhYmxlXG5DUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBjb25zZW5zdXNfZ3JvdXBzIChcbiAgICBpZCBVVUlEIERFRkFVTFQgdXVpZF9nZW5lcmF0ZV92NCgpIFBSSU1BUlkgS0VZLFxuICAgIHByb21wdF9pZCBVVUlEIFJFRkVSRU5DRVMgcHJvbXB0cyhpZCkgT04gREVMRVRFIENBU0NBREUsXG4gICAgZ3JvdXBfbmFtZSBURVhUIE5PVCBOVUxMLFxuICAgIGNvdW50IElOVEVHRVIgTk9UIE5VTEwsXG4gICAgcGVyY2VudGFnZSBERUNJTUFMKDUsMiksXG4gICAgY29sb3IgVkFSQ0hBUig3KSBOT1QgTlVMTCxcbiAgICBtb2RlbHMgVEVYVFtdLFxuICAgIGNyZWF0ZWRfYXQgVElNRVNUQU1QIFdJVEggVElNRSBaT05FIERFRkFVTFQgTk9XKClcbik7XG5cbi0tIENyZWF0ZSBpbmRleGVzIGZvciBiZXR0ZXIgcGVyZm9ybWFuY2VcbkNSRUFURSBJTkRFWCBJRiBOT1QgRVhJU1RTIGlkeF9tb2RlbHNfbW9kZWxfaWQgT04gbW9kZWxzKG1vZGVsX2lkKTtcbkNSRUFURSBJTkRFWCBJRiBOT1QgRVhJU1RTIGlkeF9tb2RlbHNfZW5hYmxlZCBPTiBtb2RlbHMoZW5hYmxlZCk7XG5DUkVBVEUgSU5ERVggSUYgTk9UIEVYSVNUUyBpZHhfcmVzcG9uc2VzX3Byb21wdF9pZCBPTiByZXNwb25zZXMocHJvbXB0X2lkKTtcbkNSRUFURSBJTkRFWCBJRiBOT1QgRVhJU1RTIGlkeF9yZXNwb25zZXNfbW9kZWxfaWQgT04gcmVzcG9uc2VzKG1vZGVsX2lkKTtcbkNSRUFURSBJTkRFWCBJRiBOT1QgRVhJU1RTIGlkeF9jb25zZW5zdXNfZ3JvdXBzX3Byb21wdF9pZCBPTiBjb25zZW5zdXNfZ3JvdXBzKHByb21wdF9pZCk7XG5DUkVBVEUgSU5ERVggSUYgTk9UIEVYSVNUUyBpZHhfcHJvbXB0c19jcmVhdGVkX2F0IE9OIHByb21wdHMoY3JlYXRlZF9hdCBERVNDKTtcblxuLS0gRW5hYmxlIFJvdyBMZXZlbCBTZWN1cml0eSAoUkxTKVxuQUxURVIgVEFCTEUgbW9kZWxzIEVOQUJMRSBST1cgTEVWRUwgU0VDVVJJVFk7XG5BTFRFUiBUQUJMRSBwcm9tcHRzIEVOQUJMRSBST1cgTEVWRUwgU0VDVVJJVFk7XG5BTFRFUiBUQUJMRSByZXNwb25zZXMgRU5BQkxFIFJPVyBMRVZFTCBTRUNVUklUWTtcbkFMVEVSIFRBQkxFIGNvbnNlbnN1c19ncm91cHMgRU5BQkxFIFJPVyBMRVZFTCBTRUNVUklUWTtcblxuLS0gQ3JlYXRlIHBvbGljaWVzIGZvciBwdWJsaWMgYWNjZXNzXG5DUkVBVEUgUE9MSUNZIFwiRW5hYmxlIHJlYWQgYWNjZXNzIGZvciBhbGwgdXNlcnNcIiBPTiBtb2RlbHMgRk9SIFNFTEVDVCBVU0lORyAodHJ1ZSk7XG5DUkVBVEUgUE9MSUNZIFwiRW5hYmxlIGluc2VydCBhY2Nlc3MgZm9yIGFsbCB1c2Vyc1wiIE9OIG1vZGVscyBGT1IgSU5TRVJUIFdJVEggQ0hFQ0sgKHRydWUpO1xuQ1JFQVRFIFBPTElDWSBcIkVuYWJsZSB1cGRhdGUgYWNjZXNzIGZvciBhbGwgdXNlcnNcIiBPTiBtb2RlbHMgRk9SIFVQREFURSBVU0lORyAodHJ1ZSk7XG5DUkVBVEUgUE9MSUNZIFwiRW5hYmxlIGRlbGV0ZSBhY2Nlc3MgZm9yIGFsbCB1c2Vyc1wiIE9OIG1vZGVscyBGT1IgREVMRVRFIFVTSU5HICh0cnVlKTtcblxuQ1JFQVRFIFBPTElDWSBcIkVuYWJsZSByZWFkIGFjY2VzcyBmb3IgYWxsIHVzZXJzXCIgT04gcHJvbXB0cyBGT1IgU0VMRUNUIFVTSU5HICh0cnVlKTtcbkNSRUFURSBQT0xJQ1kgXCJFbmFibGUgaW5zZXJ0IGFjY2VzcyBmb3IgYWxsIHVzZXJzXCIgT04gcHJvbXB0cyBGT1IgSU5TRVJUIFdJVEggQ0hFQ0sgKHRydWUpO1xuQ1JFQVRFIFBPTElDWSBcIkVuYWJsZSB1cGRhdGUgYWNjZXNzIGZvciBhbGwgdXNlcnNcIiBPTiBwcm9tcHRzIEZPUiBVUERBVEUgVVNJTkcgKHRydWUpO1xuQ1JFQVRFIFBPTElDWSBcIkVuYWJsZSBkZWxldGUgYWNjZXNzIGZvciBhbGwgdXNlcnNcIiBPTiBwcm9tcHRzIEZPUiBERUxFVEUgVVNJTkcgKHRydWUpO1xuXG5DUkVBVEUgUE9MSUNZIFwiRW5hYmxlIHJlYWQgYWNjZXNzIGZvciBhbGwgdXNlcnNcIiBPTiByZXNwb25zZXMgRk9SIFNFTEVDVCBVU0lORyAodHJ1ZSk7XG5DUkVBVEUgUE9MSUNZIFwiRW5hYmxlIGluc2VydCBhY2Nlc3MgZm9yIGFsbCB1c2Vyc1wiIE9OIHJlc3BvbnNlcyBGT1IgSU5TRVJUIFdJVEggQ0hFQ0sgKHRydWUpO1xuQ1JFQVRFIFBPTElDWSBcIkVuYWJsZSB1cGRhdGUgYWNjZXNzIGZvciBhbGwgdXNlcnNcIiBPTiByZXNwb25zZXMgRk9SIFVQREFURSBVU0lORyAodHJ1ZSk7XG5DUkVBVEUgUE9MSUNZIFwiRW5hYmxlIGRlbGV0ZSBhY2Nlc3MgZm9yIGFsbCB1c2Vyc1wiIE9OIHJlc3BvbnNlcyBGT1IgREVMRVRFIFVTSU5HICh0cnVlKTtcblxuQ1JFQVRFIFBPTElDWSBcIkVuYWJsZSByZWFkIGFjY2VzcyBmb3IgYWxsIHVzZXJzXCIgT04gY29uc2Vuc3VzX2dyb3VwcyBGT1IgU0VMRUNUIFVTSU5HICh0cnVlKTtcbkNSRUFURSBQT0xJQ1kgXCJFbmFibGUgaW5zZXJ0IGFjY2VzcyBmb3IgYWxsIHVzZXJzXCIgT04gY29uc2Vuc3VzX2dyb3VwcyBGT1IgSU5TRVJUIFdJVEggQ0hFQ0sgKHRydWUpO1xuQ1JFQVRFIFBPTElDWSBcIkVuYWJsZSB1cGRhdGUgYWNjZXNzIGZvciBhbGwgdXNlcnNcIiBPTiBjb25zZW5zdXNfZ3JvdXBzIEZPUiBVUERBVEUgVVNJTkcgKHRydWUpO1xuQ1JFQVRFIFBPTElDWSBcIkVuYWJsZSBkZWxldGUgYWNjZXNzIGZvciBhbGwgdXNlcnNcIiBPTiBjb25zZW5zdXNfZ3JvdXBzIEZPUiBERUxFVEUgVVNJTkcgKHRydWUpO1xuXG4tLSBDcmVhdGUgdXBkYXRlZF9hdCB0cmlnZ2VyIGZ1bmN0aW9uXG5DUkVBVEUgT1IgUkVQTEFDRSBGVU5DVElPTiB1cGRhdGVfdXBkYXRlZF9hdF9jb2x1bW4oKVxuUkVUVVJOUyBUUklHR0VSIEFTICQkXG5CRUdJTlxuICAgIE5FVy51cGRhdGVkX2F0ID0gTk9XKCk7XG4gICAgUkVUVVJOIE5FVztcbkVORDtcbiQkIGxhbmd1YWdlICdwbHBnc3FsJztcblxuLS0gQ3JlYXRlIHRyaWdnZXJzIGZvciB1cGRhdGVkX2F0XG5DUkVBVEUgVFJJR0dFUiB1cGRhdGVfbW9kZWxzX3VwZGF0ZWRfYXQgQkVGT1JFIFVQREFURSBPTiBtb2RlbHMgRk9SIEVBQ0ggUk9XIEVYRUNVVEUgRlVOQ1RJT04gdXBkYXRlX3VwZGF0ZWRfYXRfY29sdW1uKCk7XG5DUkVBVEUgVFJJR0dFUiB1cGRhdGVfcHJvbXB0c191cGRhdGVkX2F0IEJFRk9SRSBVUERBVEUgT04gcHJvbXB0cyBGT1IgRUFDSCBST1cgRVhFQ1VURSBGVU5DVElPTiB1cGRhdGVfdXBkYXRlZF9hdF9jb2x1bW4oKTtcblxuLS0gSW5zZXJ0IHNvbWUgZXhhbXBsZSBkYXRhXG5JTlNFUlQgSU5UTyBtb2RlbHMgKG5hbWUsIHByb3ZpZGVyLCBtb2RlbF9pZCwgZW5hYmxlZCwgY29udGV4dF9sZW5ndGgpIFZBTFVFU1xuICAgICgnR1BULTRvJywgJ09wZW5BSScsICdvcGVuYWkvZ3B0LTRvJywgdHJ1ZSwgMTI4MDAwKSxcbiAgICAoJ0NsYXVkZSAzLjUgU29ubmV0JywgJ0FudGhyb3BpYycsICdhbnRocm9waWMvY2xhdWRlLTMtNS1zb25uZXQnLCB0cnVlLCAyMDAwMDApLFxuICAgICgnR2VtaW5pIFBybyAxLjUnLCAnR29vZ2xlJywgJ2dvb2dsZS9nZW1pbmktcHJvLTEuNScsIHRydWUsIDIwMDAwMDApXG5PTiBDT05GTElDVCAobW9kZWxfaWQpIERPIE5PVEhJTkc7XG5gXG5cbi8vIEdFVDogQ2hlY2sgZGF0YWJhc2Ugc2V0dXAgc3RhdHVzXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgY3JlZGVudGlhbHMgPSBnZXRTdXBhYmFzZUNyZWRlbnRpYWxzKHJlcXVlc3QpXG4gICAgXG4gICAgaWYgKCFjcmVkZW50aWFscy51cmwgfHwgIWNyZWRlbnRpYWxzLmtleSkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnU3VwYWJhc2UgY3JlZGVudGlhbHMgbm90IGNvbmZpZ3VyZWQuIFBsZWFzZSBzZXQgdGhlbSBpbiBlbnZpcm9ubWVudCB2YXJpYWJsZXMgb3IgdmlhIHRoZSBzZXR0aW5ncyBwYWdlLicgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICApXG4gICAgfVxuXG4gICAgLy8gVHJ5IHRvIHF1ZXJ5IHRoZSBtb2RlbHMgdGFibGUgdG8gY2hlY2sgaWYgc2V0dXAgaXMgY29tcGxldGVcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ21vZGVscycpXG4gICAgICAuc2VsZWN0KCdpZCcpXG4gICAgICAubGltaXQoMSlcblxuICAgIGlmIChlcnJvcikge1xuICAgICAgLy8gSWYgdGhlcmUncyBhbiBlcnJvciwgaXQgbGlrZWx5IG1lYW5zIHRhYmxlcyBkb24ndCBleGlzdFxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgICAgc2V0dXBSZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgZXJyb3I6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgIG1lc3NhZ2U6ICdEYXRhYmFzZSB0YWJsZXMgbmVlZCB0byBiZSBjcmVhdGVkJ1xuICAgICAgfSlcbiAgICB9XG5cbiAgICAvLyBHZXQgYWN0dWFsIGNvdW50XG4gICAgY29uc3QgeyBjb3VudCB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdtb2RlbHMnKVxuICAgICAgLnNlbGVjdCgnKicsIHsgY291bnQ6ICdleGFjdCcsIGhlYWQ6IHRydWUgfSlcblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICBzZXR1cFJlcXVpcmVkOiBmYWxzZSxcbiAgICAgIG1lc3NhZ2U6ICdEYXRhYmFzZSBpcyBhbHJlYWR5IHNldCB1cCcsXG4gICAgICBtb2RlbENvdW50OiBjb3VudCB8fCAwXG4gICAgfSlcblxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNoZWNraW5nIGRhdGFiYXNlIHNldHVwOicsIGVycm9yKVxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ0ZhaWxlZCB0byBjaGVjayBkYXRhYmFzZSBzZXR1cCcgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgIClcbiAgfVxufVxuXG4vLyBQT1NUOiBSdW4gZGF0YWJhc2Ugc2V0dXBcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgY3JlZGVudGlhbHMgPSBnZXRTdXBhYmFzZUNyZWRlbnRpYWxzKHJlcXVlc3QpXG4gICAgXG4gICAgaWYgKCFjcmVkZW50aWFscy51cmwgfHwgIWNyZWRlbnRpYWxzLmtleSkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnU3VwYWJhc2UgY3JlZGVudGlhbHMgbm90IGNvbmZpZ3VyZWQuIFBsZWFzZSBzZXQgdGhlbSBpbiBlbnZpcm9ubWVudCB2YXJpYWJsZXMgb3IgdmlhIHRoZSBzZXR0aW5ncyBwYWdlLicgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICApXG4gICAgfVxuXG4gICAgLy8gRXhlY3V0ZSB0aGUgc2NoZW1hIFNRTFxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLnJwYygnZXhlY19zcWwnLCB7XG4gICAgICBzcWxfcXVlcnk6IFNDSEVNQV9TUUxcbiAgICB9KVxuXG4gICAgaWYgKGVycm9yKSB7XG4gICAgICAvLyBJZiBycGMgZG9lc24ndCB3b3JrLCB0cnkgZGlyZWN0IGV4ZWN1dGlvblxuICAgICAgY29uc29sZS5sb2coJ1JQQyBmYWlsZWQsIHRyeWluZyBkaXJlY3QgZXhlY3V0aW9uOicsIGVycm9yKVxuICAgICAgXG4gICAgICAvLyBTcGxpdCBTUUwgaW50byBpbmRpdmlkdWFsIHN0YXRlbWVudHMgYW5kIGV4ZWN1dGUgdGhlbVxuICAgICAgY29uc3Qgc3RhdGVtZW50cyA9IFNDSEVNQV9TUUxcbiAgICAgICAgLnNwbGl0KCc7JylcbiAgICAgICAgLm1hcChzdG10ID0+IHN0bXQudHJpbSgpKVxuICAgICAgICAuZmlsdGVyKHN0bXQgPT4gc3RtdC5sZW5ndGggPiAwKVxuXG4gICAgICBjb25zdCByZXN1bHRzID0gW11cbiAgICAgIGxldCBoYXNFcnJvciA9IGZhbHNlXG5cbiAgICAgIGZvciAoY29uc3Qgc3RhdGVtZW50IG9mIHN0YXRlbWVudHMpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCB7IGRhdGE6IHJlc3VsdCwgZXJyb3I6IHN0bXRFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAgIC5mcm9tKCdfdGVtcF9zZXR1cCcpXG4gICAgICAgICAgICAuc2VsZWN0KCcqJylcbiAgICAgICAgICAgIC5saW1pdCgwKSAvLyBUaGlzIHdpbGwgZmFpbCBidXQgYWxsb3dzIHVzIHRvIHRlc3QgY29ubmVjdGlvblxuXG4gICAgICAgICAgaWYgKHN0bXRFcnJvciAmJiAhaGFzRXJyb3IpIHtcbiAgICAgICAgICAgIGhhc0Vycm9yID0gdHJ1ZVxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0cy5wdXNoKHsgc3RhdGVtZW50OiBzdGF0ZW1lbnQuc3Vic3RyaW5nKDAsIDUwKSArICcuLi4nLCBzdWNjZXNzOiB0cnVlIH0pXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICByZXN1bHRzLnB1c2goeyBzdGF0ZW1lbnQ6IHN0YXRlbWVudC5zdWJzdHJpbmcoMCwgNTApICsgJy4uLicsIHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZSB9KVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGhhc0Vycm9yKSB7XG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgICB7IFxuICAgICAgICAgICAgZXJyb3I6ICdGYWlsZWQgdG8gZXhlY3V0ZSBkYXRhYmFzZSBzZXR1cC4gUGxlYXNlIHJ1biB0aGUgU1FMIG1hbnVhbGx5IGluIHlvdXIgU3VwYWJhc2UgZGFzaGJvYXJkLicsXG4gICAgICAgICAgICBzcWxGaWxlOiAnL2RhdGFiYXNlL3NjaGVtYS5zcWwnLFxuICAgICAgICAgICAgaW5zdHJ1Y3Rpb25zOiAnQ29weSB0aGUgY29udGVudHMgb2YgZGF0YWJhc2Uvc2NoZW1hLnNxbCBhbmQgcnVuIGl0IGluIHlvdXIgU3VwYWJhc2UgU1FMIEVkaXRvcidcbiAgICAgICAgICB9LFxuICAgICAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICAgICApXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gVmVyaWZ5IHNldHVwIGJ5IGNoZWNraW5nIGlmIHdlIGNhbiBxdWVyeSBtb2RlbHNcbiAgICBjb25zdCB7IGRhdGE6IG1vZGVscywgZXJyb3I6IHZlcmlmeUVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ21vZGVscycpXG4gICAgICAuc2VsZWN0KCdpZCcpXG4gICAgICAubGltaXQoMSlcblxuICAgIGlmICh2ZXJpZnlFcnJvcikge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7XG4gICAgICAgICAgZXJyb3I6ICdEYXRhYmFzZSBzZXR1cCBtYXkgaGF2ZSBmYWlsZWQuIFBsZWFzZSBydW4gdGhlIFNRTCBtYW51YWxseS4nLFxuICAgICAgICAgIHNxbEZpbGU6ICcvZGF0YWJhc2Uvc2NoZW1hLnNxbCcsXG4gICAgICAgICAgaW5zdHJ1Y3Rpb25zOiAnQ29weSB0aGUgY29udGVudHMgb2YgZGF0YWJhc2Uvc2NoZW1hLnNxbCBhbmQgcnVuIGl0IGluIHlvdXIgU3VwYWJhc2UgU1FMIEVkaXRvcidcbiAgICAgICAgfSxcbiAgICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgICApXG4gICAgfVxuXG4gICAgLy8gR2V0IGFjdHVhbCBjb3VudFxuICAgIGNvbnN0IHsgY291bnQgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnbW9kZWxzJylcbiAgICAgIC5zZWxlY3QoJyonLCB7IGNvdW50OiAnZXhhY3QnLCBoZWFkOiB0cnVlIH0pXG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIG1lc3NhZ2U6ICdEYXRhYmFzZSBzZXR1cCBjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5IScsXG4gICAgICBtb2RlbENvdW50OiBjb3VudCB8fCAwLFxuICAgICAgdGFibGVzQ3JlYXRlZDogWydtb2RlbHMnLCAncHJvbXB0cycsICdyZXNwb25zZXMnLCAnY29uc2Vuc3VzX2dyb3VwcyddXG4gICAgfSlcblxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNldHRpbmcgdXAgZGF0YWJhc2U6JywgZXJyb3IpXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBcbiAgICAgICAgZXJyb3I6ICdGYWlsZWQgdG8gc2V0IHVwIGRhdGFiYXNlIGF1dG9tYXRpY2FsbHkuIFBsZWFzZSBydW4gdGhlIFNRTCBtYW51YWxseS4nLFxuICAgICAgICBzcWxGaWxlOiAnL2RhdGFiYXNlL3NjaGVtYS5zcWwnLFxuICAgICAgICBpbnN0cnVjdGlvbnM6ICdDb3B5IHRoZSBjb250ZW50cyBvZiBkYXRhYmFzZS9zY2hlbWEuc3FsIGFuZCBydW4gaXQgaW4geW91ciBTdXBhYmFzZSBTUUwgRWRpdG9yJyxcbiAgICAgICAgZGV0YWlsczogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcidcbiAgICAgIH0sXG4gICAgICB7IHN0YXR1czogNTAwIH1cbiAgICApXG4gIH1cbn0iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwic3VwYWJhc2UiLCJnZXRTdXBhYmFzZUNyZWRlbnRpYWxzIiwicmVxdWVzdCIsImVudlVybCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwiLCJlbnZLZXkiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSIsInVybCIsImtleSIsImhlYWRlclVybCIsImhlYWRlcnMiLCJnZXQiLCJoZWFkZXJLZXkiLCJTQ0hFTUFfU1FMIiwiR0VUIiwiY3JlZGVudGlhbHMiLCJqc29uIiwiZXJyb3IiLCJzdGF0dXMiLCJkYXRhIiwiZnJvbSIsInNlbGVjdCIsImxpbWl0Iiwic2V0dXBSZXF1aXJlZCIsIm1lc3NhZ2UiLCJjb3VudCIsImhlYWQiLCJtb2RlbENvdW50IiwiY29uc29sZSIsIkVycm9yIiwiUE9TVCIsInJwYyIsInNxbF9xdWVyeSIsImxvZyIsInN0YXRlbWVudHMiLCJzcGxpdCIsIm1hcCIsInN0bXQiLCJ0cmltIiwiZmlsdGVyIiwibGVuZ3RoIiwicmVzdWx0cyIsImhhc0Vycm9yIiwic3RhdGVtZW50IiwicmVzdWx0Iiwic3RtdEVycm9yIiwicHVzaCIsInN1YnN0cmluZyIsInN1Y2Nlc3MiLCJlIiwic3FsRmlsZSIsImluc3RydWN0aW9ucyIsIm1vZGVscyIsInZlcmlmeUVycm9yIiwidGFibGVzQ3JlYXRlZCIsImRldGFpbHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/setup/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/supabase.ts":
/*!*************************!*\
  !*** ./lib/supabase.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SupabaseClient: () => (/* binding */ SupabaseClient),\n/* harmony export */   supabase: () => (/* binding */ supabase),\n/* harmony export */   supabaseClient: () => (/* binding */ supabaseClient)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/./node_modules/@supabase/supabase-js/dist/module/index.js\");\n\nconst supabaseUrl = \"https://rhwjusutkkwxypbqaoph.supabase.co\";\nconst supabaseAnonKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJod2p1c3V0a2t3eHlwYnFhb3BoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc4ODEzNjAsImV4cCI6MjA2MzQ1NzM2MH0.4cYuDuaZyxfG7T1lkkiLttDehiYg9LdWKwEq1tPLkXM\";\nif (!supabaseUrl || !supabaseAnonKey) {\n    throw new Error(\"Missing Supabase environment variables\");\n}\nconst supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseAnonKey);\n// Supabase client with enhanced error handling\nclass SupabaseClient {\n    async getModels() {\n        try {\n            const { data, error } = await this.client.from(\"models\").select(\"*\").order(\"provider\", {\n                ascending: true\n            }).order(\"name\", {\n                ascending: true\n            });\n            if (error) {\n                throw new Error(`Failed to fetch models: ${error.message}`);\n            }\n            return data || [];\n        } catch (error) {\n            console.error(\"Error fetching models:\", error);\n            throw error;\n        }\n    }\n    async updateModelEnabled(id, enabled) {\n        try {\n            const { data, error } = await this.client.from(\"models\").update({\n                enabled,\n                updated_at: new Date().toISOString()\n            }).eq(\"id\", id).select().single();\n            if (error) {\n                throw new Error(`Failed to update model: ${error.message}`);\n            }\n            return data;\n        } catch (error) {\n            console.error(\"Error updating model:\", error);\n            throw error;\n        }\n    }\n    async upsertModels(models) {\n        try {\n            const { data, error } = await this.client.from(\"models\").upsert(models, {\n                onConflict: \"model_id\"\n            }).select();\n            if (error) {\n                throw new Error(`Failed to upsert models: ${error.message}`);\n            }\n            return data || [];\n        } catch (error) {\n            console.error(\"Error upserting models:\", error);\n            throw error;\n        }\n    }\n    async savePrompt(text) {\n        try {\n            const { data, error } = await this.client.from(\"prompts\").insert({\n                text\n            }).select().single();\n            if (error) {\n                throw new Error(`Failed to save prompt: ${error.message}`);\n            }\n            return data;\n        } catch (error) {\n            console.error(\"Error saving prompt:\", error);\n            throw error;\n        }\n    }\n    async saveResponses(responses) {\n        try {\n            const { data, error } = await this.client.from(\"responses\").insert(responses).select(`\n          *,\n          model:models(*)\n        `);\n            if (error) {\n                throw new Error(`Failed to save responses: ${error.message}`);\n            }\n            return data || [];\n        } catch (error) {\n            console.error(\"Error saving responses:\", error);\n            throw error;\n        }\n    }\n    async saveConsensusGroups(groups) {\n        try {\n            const { data, error } = await this.client.from(\"consensus_groups\").insert(groups).select();\n            if (error) {\n                throw new Error(`Failed to save consensus groups: ${error.message}`);\n            }\n            return data || [];\n        } catch (error) {\n            console.error(\"Error saving consensus groups:\", error);\n            throw error;\n        }\n    }\n    async getPromptHistory(limit = 50) {\n        try {\n            const { data, error } = await this.client.from(\"prompts\").select(\"*\").order(\"created_at\", {\n                ascending: false\n            }).limit(limit);\n            if (error) {\n                throw new Error(`Failed to fetch prompt history: ${error.message}`);\n            }\n            return data || [];\n        } catch (error) {\n            console.error(\"Error fetching prompt history:\", error);\n            throw error;\n        }\n    }\n    async getPromptWithResults(promptId) {\n        try {\n            const [promptResult, responsesResult, consensusResult] = await Promise.all([\n                this.client.from(\"prompts\").select(\"*\").eq(\"id\", promptId).single(),\n                this.client.from(\"responses\").select(`\n          *,\n          model:models(*)\n        `).eq(\"prompt_id\", promptId),\n                this.client.from(\"consensus_groups\").select(\"*\").eq(\"prompt_id\", promptId)\n            ]);\n            if (promptResult.error) {\n                throw new Error(`Failed to fetch prompt: ${promptResult.error.message}`);\n            }\n            return {\n                prompt: promptResult.data,\n                responses: responsesResult.data || [],\n                consensusGroups: consensusResult.data || []\n            };\n        } catch (error) {\n            console.error(\"Error fetching prompt with results:\", error);\n            throw error;\n        }\n    }\n    constructor(){\n        this.client = supabase;\n    }\n}\nconst supabaseClient = new SupabaseClient();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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YXNlLnRzP2M5OWYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL3N1cGFiYXNlLWpzJ1xuXG5jb25zdCBzdXBhYmFzZVVybCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCFcbmNvbnN0IHN1cGFiYXNlQW5vbktleSA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZIVxuXG5pZiAoIXN1cGFiYXNlVXJsIHx8ICFzdXBhYmFzZUFub25LZXkpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIFN1cGFiYXNlIGVudmlyb25tZW50IHZhcmlhYmxlcycpXG59XG5cbmV4cG9ydCBjb25zdCBzdXBhYmFzZSA9IGNyZWF0ZUNsaWVudChzdXBhYmFzZVVybCwgc3VwYWJhc2VBbm9uS2V5KVxuXG4vLyBEYXRhYmFzZSB0eXBlc1xuZXhwb3J0IGludGVyZmFjZSBNb2RlbCB7XG4gIGlkOiBzdHJpbmdcbiAgbmFtZTogc3RyaW5nXG4gIHByb3ZpZGVyOiBzdHJpbmdcbiAgbW9kZWxfaWQ6IHN0cmluZ1xuICBlbmFibGVkOiBib29sZWFuXG4gIGNvbnRleHRfbGVuZ3RoOiBudW1iZXJcbiAgY3JlYXRlZF9hdD86IHN0cmluZ1xuICB1cGRhdGVkX2F0Pzogc3RyaW5nXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUHJvbXB0IHtcbiAgaWQ6IHN0cmluZ1xuICB0ZXh0OiBzdHJpbmdcbiAgY3JlYXRlZF9hdDogc3RyaW5nXG4gIHVwZGF0ZWRfYXQ/OiBzdHJpbmdcbn1cblxuZXhwb3J0IGludGVyZmFjZSBSZXNwb25zZSB7XG4gIGlkOiBzdHJpbmdcbiAgcHJvbXB0X2lkOiBzdHJpbmdcbiAgbW9kZWxfaWQ6IHN0cmluZ1xuICByZXNwb25zZV90ZXh0OiBzdHJpbmdcbiAgcmVzcG9uc2VfdGltZV9tczogbnVtYmVyXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZ1xuICBtb2RlbD86IE1vZGVsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29uc2Vuc3VzR3JvdXAge1xuICBpZDogc3RyaW5nXG4gIHByb21wdF9pZDogc3RyaW5nXG4gIGdyb3VwX25hbWU6IHN0cmluZ1xuICBjb3VudDogbnVtYmVyXG4gIHBlcmNlbnRhZ2U6IG51bWJlclxuICBjb2xvcjogc3RyaW5nXG4gIG1vZGVscz86IHN0cmluZ1tdICAvLyBPcHRpb25hbCBzaW5jZSBkYXRhYmFzZSBkb2Vzbid0IGhhdmUgdGhpcyBjb2x1bW4geWV0XG4gIGNyZWF0ZWRfYXQ6IHN0cmluZ1xufVxuXG4vLyBTdXBhYmFzZSBjbGllbnQgd2l0aCBlbmhhbmNlZCBlcnJvciBoYW5kbGluZ1xuZXhwb3J0IGNsYXNzIFN1cGFiYXNlQ2xpZW50IHtcbiAgcHJpdmF0ZSBjbGllbnQgPSBzdXBhYmFzZVxuXG4gIGFzeW5jIGdldE1vZGVscygpOiBQcm9taXNlPE1vZGVsW10+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgdGhpcy5jbGllbnRcbiAgICAgICAgLmZyb20oJ21vZGVscycpXG4gICAgICAgIC5zZWxlY3QoJyonKVxuICAgICAgICAub3JkZXIoJ3Byb3ZpZGVyJywgeyBhc2NlbmRpbmc6IHRydWUgfSlcbiAgICAgICAgLm9yZGVyKCduYW1lJywgeyBhc2NlbmRpbmc6IHRydWUgfSlcblxuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGZldGNoIG1vZGVsczogJHtlcnJvci5tZXNzYWdlfWApXG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkYXRhIHx8IFtdXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIG1vZGVsczonLCBlcnJvcilcbiAgICAgIHRocm93IGVycm9yXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgdXBkYXRlTW9kZWxFbmFibGVkKGlkOiBzdHJpbmcsIGVuYWJsZWQ6IGJvb2xlYW4pOiBQcm9taXNlPE1vZGVsPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHRoaXMuY2xpZW50XG4gICAgICAgIC5mcm9tKCdtb2RlbHMnKVxuICAgICAgICAudXBkYXRlKHsgZW5hYmxlZCwgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpIH0pXG4gICAgICAgIC5lcSgnaWQnLCBpZClcbiAgICAgICAgLnNlbGVjdCgpXG4gICAgICAgIC5zaW5nbGUoKVxuXG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gdXBkYXRlIG1vZGVsOiAke2Vycm9yLm1lc3NhZ2V9YClcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRhdGFcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgbW9kZWw6JywgZXJyb3IpXG4gICAgICB0aHJvdyBlcnJvclxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHVwc2VydE1vZGVscyhtb2RlbHM6IE9taXQ8TW9kZWwsICdpZCcgfCAnY3JlYXRlZF9hdCcgfCAndXBkYXRlZF9hdCc+W10pOiBQcm9taXNlPE1vZGVsW10+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgdGhpcy5jbGllbnRcbiAgICAgICAgLmZyb20oJ21vZGVscycpXG4gICAgICAgIC51cHNlcnQobW9kZWxzLCB7IG9uQ29uZmxpY3Q6ICdtb2RlbF9pZCcgfSlcbiAgICAgICAgLnNlbGVjdCgpXG5cbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byB1cHNlcnQgbW9kZWxzOiAke2Vycm9yLm1lc3NhZ2V9YClcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRhdGEgfHwgW11cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBzZXJ0aW5nIG1vZGVsczonLCBlcnJvcilcbiAgICAgIHRocm93IGVycm9yXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgc2F2ZVByb21wdCh0ZXh0OiBzdHJpbmcpOiBQcm9taXNlPFByb21wdD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCB0aGlzLmNsaWVudFxuICAgICAgICAuZnJvbSgncHJvbXB0cycpXG4gICAgICAgIC5pbnNlcnQoeyB0ZXh0IH0pXG4gICAgICAgIC5zZWxlY3QoKVxuICAgICAgICAuc2luZ2xlKClcblxuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIHNhdmUgcHJvbXB0OiAke2Vycm9yLm1lc3NhZ2V9YClcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRhdGFcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2F2aW5nIHByb21wdDonLCBlcnJvcilcbiAgICAgIHRocm93IGVycm9yXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgc2F2ZVJlc3BvbnNlcyhyZXNwb25zZXM6IE9taXQ8UmVzcG9uc2UsICdpZCcgfCAnY3JlYXRlZF9hdCc+W10pOiBQcm9taXNlPFJlc3BvbnNlW10+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgdGhpcy5jbGllbnRcbiAgICAgICAgLmZyb20oJ3Jlc3BvbnNlcycpXG4gICAgICAgIC5pbnNlcnQocmVzcG9uc2VzKVxuICAgICAgICAuc2VsZWN0KGBcbiAgICAgICAgICAqLFxuICAgICAgICAgIG1vZGVsOm1vZGVscygqKVxuICAgICAgICBgKVxuXG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gc2F2ZSByZXNwb25zZXM6ICR7ZXJyb3IubWVzc2FnZX1gKVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gZGF0YSB8fCBbXVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzYXZpbmcgcmVzcG9uc2VzOicsIGVycm9yKVxuICAgICAgdGhyb3cgZXJyb3JcbiAgICB9XG4gIH1cblxuICBhc3luYyBzYXZlQ29uc2Vuc3VzR3JvdXBzKGdyb3VwczogT21pdDxDb25zZW5zdXNHcm91cCwgJ2lkJyB8ICdjcmVhdGVkX2F0Jz5bXSk6IFByb21pc2U8Q29uc2Vuc3VzR3JvdXBbXT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCB0aGlzLmNsaWVudFxuICAgICAgICAuZnJvbSgnY29uc2Vuc3VzX2dyb3VwcycpXG4gICAgICAgIC5pbnNlcnQoZ3JvdXBzKVxuICAgICAgICAuc2VsZWN0KClcblxuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIHNhdmUgY29uc2Vuc3VzIGdyb3VwczogJHtlcnJvci5tZXNzYWdlfWApXG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkYXRhIHx8IFtdXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNhdmluZyBjb25zZW5zdXMgZ3JvdXBzOicsIGVycm9yKVxuICAgICAgdGhyb3cgZXJyb3JcbiAgICB9XG4gIH1cblxuICBhc3luYyBnZXRQcm9tcHRIaXN0b3J5KGxpbWl0ID0gNTApOiBQcm9taXNlPFByb21wdFtdPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHRoaXMuY2xpZW50XG4gICAgICAgIC5mcm9tKCdwcm9tcHRzJylcbiAgICAgICAgLnNlbGVjdCgnKicpXG4gICAgICAgIC5vcmRlcignY3JlYXRlZF9hdCcsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KVxuICAgICAgICAubGltaXQobGltaXQpXG5cbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBmZXRjaCBwcm9tcHQgaGlzdG9yeTogJHtlcnJvci5tZXNzYWdlfWApXG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkYXRhIHx8IFtdXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHByb21wdCBoaXN0b3J5OicsIGVycm9yKVxuICAgICAgdGhyb3cgZXJyb3JcbiAgICB9XG4gIH1cblxuICBhc3luYyBnZXRQcm9tcHRXaXRoUmVzdWx0cyhwcm9tcHRJZDogc3RyaW5nKTogUHJvbWlzZTx7XG4gICAgcHJvbXB0OiBQcm9tcHRcbiAgICByZXNwb25zZXM6IFJlc3BvbnNlW11cbiAgICBjb25zZW5zdXNHcm91cHM6IENvbnNlbnN1c0dyb3VwW11cbiAgfSB8IG51bGw+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgW3Byb21wdFJlc3VsdCwgcmVzcG9uc2VzUmVzdWx0LCBjb25zZW5zdXNSZXN1bHRdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgICB0aGlzLmNsaWVudC5mcm9tKCdwcm9tcHRzJykuc2VsZWN0KCcqJykuZXEoJ2lkJywgcHJvbXB0SWQpLnNpbmdsZSgpLFxuICAgICAgICB0aGlzLmNsaWVudC5mcm9tKCdyZXNwb25zZXMnKS5zZWxlY3QoYFxuICAgICAgICAgICosXG4gICAgICAgICAgbW9kZWw6bW9kZWxzKCopXG4gICAgICAgIGApLmVxKCdwcm9tcHRfaWQnLCBwcm9tcHRJZCksXG4gICAgICAgIHRoaXMuY2xpZW50LmZyb20oJ2NvbnNlbnN1c19ncm91cHMnKS5zZWxlY3QoJyonKS5lcSgncHJvbXB0X2lkJywgcHJvbXB0SWQpXG4gICAgICBdKVxuXG4gICAgICBpZiAocHJvbXB0UmVzdWx0LmVycm9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGZldGNoIHByb21wdDogJHtwcm9tcHRSZXN1bHQuZXJyb3IubWVzc2FnZX1gKVxuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBwcm9tcHQ6IHByb21wdFJlc3VsdC5kYXRhLFxuICAgICAgICByZXNwb25zZXM6IHJlc3BvbnNlc1Jlc3VsdC5kYXRhIHx8IFtdLFxuICAgICAgICBjb25zZW5zdXNHcm91cHM6IGNvbnNlbnN1c1Jlc3VsdC5kYXRhIHx8IFtdXG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHByb21wdCB3aXRoIHJlc3VsdHM6JywgZXJyb3IpXG4gICAgICB0aHJvdyBlcnJvclxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY29uc3Qgc3VwYWJhc2VDbGllbnQgPSBuZXcgU3VwYWJhc2VDbGllbnQoKSJdLCJuYW1lcyI6WyJjcmVhdGVDbGllbnQiLCJzdXBhYmFzZVVybCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwiLCJzdXBhYmFzZUFub25LZXkiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSIsIkVycm9yIiwic3VwYWJhc2UiLCJTdXBhYmFzZUNsaWVudCIsImdldE1vZGVscyIsImRhdGEiLCJlcnJvciIsImNsaWVudCIsImZyb20iLCJzZWxlY3QiLCJvcmRlciIsImFzY2VuZGluZyIsIm1lc3NhZ2UiLCJjb25zb2xlIiwidXBkYXRlTW9kZWxFbmFibGVkIiwiaWQiLCJlbmFibGVkIiwidXBkYXRlIiwidXBkYXRlZF9hdCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsImVxIiwic2luZ2xlIiwidXBzZXJ0TW9kZWxzIiwibW9kZWxzIiwidXBzZXJ0Iiwib25Db25mbGljdCIsInNhdmVQcm9tcHQiLCJ0ZXh0IiwiaW5zZXJ0Iiwic2F2ZVJlc3BvbnNlcyIsInJlc3BvbnNlcyIsInNhdmVDb25zZW5zdXNHcm91cHMiLCJncm91cHMiLCJnZXRQcm9tcHRIaXN0b3J5IiwibGltaXQiLCJnZXRQcm9tcHRXaXRoUmVzdWx0cyIsInByb21wdElkIiwicHJvbXB0UmVzdWx0IiwicmVzcG9uc2VzUmVzdWx0IiwiY29uc2Vuc3VzUmVzdWx0IiwiUHJvbWlzZSIsImFsbCIsInByb21wdCIsImNvbnNlbnN1c0dyb3VwcyIsInN1cGFiYXNlQ2xpZW50Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/supabase.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@supabase","vendor-chunks/whatwg-url","vendor-chunks/tr46"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fsetup%2Froute&page=%2Fapi%2Fsetup%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsetup%2Froute.ts&appDir=%2FUsers%2Fbanik%2FDesktop%2FProjects2025%2FBMarkApp-NextJS%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fbanik%2FDesktop%2FProjects2025%2FBMarkApp-NextJS&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();