"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/models/route";
exports.ids = ["app/api/models/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fmodels%2Froute&page=%2Fapi%2Fmodels%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmodels%2Froute.ts&appDir=%2FUsers%2Fbanik%2FDesktop%2FProjects2025%2FBMarkApp-NextJS%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fbanik%2FDesktop%2FProjects2025%2FBMarkApp-NextJS&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fmodels%2Froute&page=%2Fapi%2Fmodels%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmodels%2Froute.ts&appDir=%2FUsers%2Fbanik%2FDesktop%2FProjects2025%2FBMarkApp-NextJS%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fbanik%2FDesktop%2FProjects2025%2FBMarkApp-NextJS&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_banik_Desktop_Projects2025_BMarkApp_NextJS_app_api_models_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/models/route.ts */ \"(rsc)/./app/api/models/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/models/route\",\n        pathname: \"/api/models\",\n        filename: \"route\",\n        bundlePath: \"app/api/models/route\"\n    },\n    resolvedPagePath: \"/Users/banik/Desktop/Projects2025/BMarkApp-NextJS/app/api/models/route.ts\",\n    nextConfigOutput,\n    userland: _Users_banik_Desktop_Projects2025_BMarkApp_NextJS_app_api_models_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/models/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZtb2RlbHMlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRm1vZGVscyUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRm1vZGVscyUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRmJhbmlrJTJGRGVza3RvcCUyRlByb2plY3RzMjAyNSUyRkJNYXJrQXBwLU5leHRKUyUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGVXNlcnMlMkZiYW5payUyRkRlc2t0b3AlMkZQcm9qZWN0czIwMjUlMkZCTWFya0FwcC1OZXh0SlMmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ3lCO0FBQ3RHO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGxtLWNvbnNlbnN1cy1iZW5jaG1hcmstbmV4dGpzLz9hYzJhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi9Vc2Vycy9iYW5pay9EZXNrdG9wL1Byb2plY3RzMjAyNS9CTWFya0FwcC1OZXh0SlMvYXBwL2FwaS9tb2RlbHMvcm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL21vZGVscy9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL21vZGVsc1wiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvbW9kZWxzL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiL1VzZXJzL2JhbmlrL0Rlc2t0b3AvUHJvamVjdHMyMDI1L0JNYXJrQXBwLU5leHRKUy9hcHAvYXBpL21vZGVscy9yb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvbW9kZWxzL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fmodels%2Froute&page=%2Fapi%2Fmodels%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmodels%2Froute.ts&appDir=%2FUsers%2Fbanik%2FDesktop%2FProjects2025%2FBMarkApp-NextJS%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fbanik%2FDesktop%2FProjects2025%2FBMarkApp-NextJS&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/models/route.ts":
/*!*********************************!*\
  !*** ./app/api/models/route.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   PUT: () => (/* binding */ PUT)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/v3/types.js\");\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/v3/ZodError.js\");\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/supabase */ \"(rsc)/./lib/supabase.ts\");\n/* harmony import */ var _lib_openrouter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/openrouter */ \"(rsc)/./lib/openrouter.ts\");\n\n\n\n\n// Helper function to get OpenRouter API key from environment or headers\nfunction getOpenRouterApiKey(request) {\n    // First try environment variable (for production)\n    if (process.env.OPENROUTER_API_KEY) {\n        return process.env.OPENROUTER_API_KEY;\n    }\n    // Fall back to request headers (for development with settings page)\n    if (request?.headers.get(\"X-OpenRouter-API-Key\")) {\n        return request.headers.get(\"X-OpenRouter-API-Key\");\n    }\n    return null;\n}\n// Validation schemas\nconst UpdateModelSchema = zod__WEBPACK_IMPORTED_MODULE_3__.object({\n    id: zod__WEBPACK_IMPORTED_MODULE_3__.string().uuid(),\n    enabled: zod__WEBPACK_IMPORTED_MODULE_3__.boolean()\n});\nconst ModelSchema = zod__WEBPACK_IMPORTED_MODULE_3__.object({\n    name: zod__WEBPACK_IMPORTED_MODULE_3__.string(),\n    provider: zod__WEBPACK_IMPORTED_MODULE_3__.string(),\n    model_id: zod__WEBPACK_IMPORTED_MODULE_3__.string(),\n    enabled: zod__WEBPACK_IMPORTED_MODULE_3__.boolean(),\n    context_length: zod__WEBPACK_IMPORTED_MODULE_3__.number()\n});\n// GET: Fetch all models\nasync function GET() {\n    try {\n        const models = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabaseClient.getModels();\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            models\n        }, {\n            status: 200\n        });\n    } catch (error) {\n        console.error(\"Error fetching models:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: error instanceof Error ? error.message : \"Failed to fetch models\"\n        }, {\n            status: 500\n        });\n    }\n}\n// POST: Sync models from OpenRouter\nasync function POST(request) {\n    try {\n        const openRouterApiKey = getOpenRouterApiKey(request);\n        if (!openRouterApiKey) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"OpenRouter API key is not configured. Please set it in environment variables or via the settings page.\"\n            }, {\n                status: 500\n            });\n        }\n        // Initialize OpenRouter client\n        const openRouter = new _lib_openrouter__WEBPACK_IMPORTED_MODULE_2__[\"default\"](openRouterApiKey);\n        // Fetch models from OpenRouter\n        const openRouterResponse = await openRouter.getModels();\n        if (!openRouterResponse?.data) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Failed to fetch models from OpenRouter.\"\n            }, {\n                status: 500\n            });\n        }\n        // Filter models for benchmarking\n        const filteredModels = _lib_openrouter__WEBPACK_IMPORTED_MODULE_2__[\"default\"].filterModelsForBenchmark(openRouterResponse.data);\n        // Limit models per provider (up to 5 each)\n        const providerModels = {};\n        filteredModels.forEach((model)=>{\n            const [provider] = model.id.split(\"/\");\n            if (!providerModels[provider]) {\n                providerModels[provider] = [];\n            }\n            if (providerModels[provider].length < 5) {\n                providerModels[provider].push(model);\n            }\n        });\n        // Flatten the provider models\n        const selectedModels = Object.values(providerModels).flat();\n        // Process models for our database\n        const models = selectedModels.map((model)=>{\n            // Extract provider from model ID\n            const [provider, modelName] = model.id.split(\"/\");\n            const formattedProvider = provider.charAt(0).toUpperCase() + provider.slice(1);\n            // Format model name\n            const formattedName = modelName.split(\"-\").map((part)=>{\n                if (/^\\d+$/.test(part)) {\n                    return part;\n                }\n                return part.charAt(0).toUpperCase() + part.slice(1);\n            }).join(\" \");\n            return {\n                name: formattedName,\n                provider: formattedProvider,\n                model_id: model.id,\n                enabled: true,\n                context_length: model.context_length || 4096\n            };\n        });\n        // Add recommended models if they're not already included\n        const recommendedModels = [\n            {\n                id: \"openai/gpt-4o\",\n                name: \"GPT-4o\",\n                provider: \"OpenAI\",\n                context_length: 128000\n            },\n            {\n                id: \"anthropic/claude-3-5-sonnet\",\n                name: \"Claude 3.5 Sonnet\",\n                provider: \"Anthropic\",\n                context_length: 200000\n            },\n            {\n                id: \"google/gemini-pro-1.5\",\n                name: \"Gemini Pro 1.5\",\n                provider: \"Google\",\n                context_length: 2000000\n            },\n            {\n                id: \"meta-llama/llama-3.1-70b-instruct\",\n                name: \"Llama 3.1 70B\",\n                provider: \"Meta\",\n                context_length: 131072\n            },\n            {\n                id: \"mistralai/mistral-large\",\n                name: \"Mistral Large\",\n                provider: \"Mistral AI\",\n                context_length: 128000\n            },\n            {\n                id: \"cohere/command-r-plus\",\n                name: \"Command R+\",\n                provider: \"Cohere\",\n                context_length: 128000\n            }\n        ];\n        recommendedModels.forEach((recModel)=>{\n            if (!models.some((m)=>m.model_id === recModel.id)) {\n                models.push({\n                    name: recModel.name,\n                    provider: recModel.provider,\n                    model_id: recModel.id,\n                    enabled: true,\n                    context_length: recModel.context_length\n                });\n            }\n        });\n        // Validate models\n        const validatedModels = models.map((model)=>ModelSchema.parse(model));\n        // Get existing models to preserve enabled status\n        const existingModels = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabaseClient.getModels();\n        const existingModelMap = new Map(existingModels.map((m)=>[\n                m.model_id,\n                m.enabled\n            ]));\n        // Preserve enabled status for existing models\n        const modelsToUpsert = validatedModels.map((model)=>({\n                ...model,\n                enabled: existingModelMap.has(model.model_id) ? existingModelMap.get(model.model_id) : true\n            }));\n        // Upsert models\n        const savedModels = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabaseClient.upsertModels(modelsToUpsert);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            message: `Successfully synced ${savedModels.length} models.`,\n            models: savedModels\n        }, {\n            status: 200\n        });\n    } catch (error) {\n        console.error(\"Error syncing models:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: error instanceof Error ? error.message : \"Failed to sync models\"\n        }, {\n            status: 500\n        });\n    }\n}\n// PUT: Update model enabled status\nasync function PUT(request) {\n    try {\n        const body = await request.json();\n        // Validate request body\n        const { id, enabled } = UpdateModelSchema.parse(body);\n        // Update model in database\n        const updatedModel = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabaseClient.updateModelEnabled(id, enabled);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            model: updatedModel\n        }, {\n            status: 200\n        });\n    } catch (error) {\n        console.error(\"Error updating model:\", error);\n        if (error instanceof zod__WEBPACK_IMPORTED_MODULE_4__.ZodError) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Invalid request data\",\n                details: error.errors\n            }, {\n                status: 400\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: error instanceof Error ? error.message : \"Failed to update model\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxRQUFRO1FBQUk7SUFFbkIsRUFBRSxPQUFPQyxPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyx5QkFBeUJBO1FBQ3ZDLE9BQU83QixxREFBWUEsQ0FBQzJCLElBQUksQ0FDdEI7WUFBRUUsT0FBT0EsaUJBQWlCRSxRQUFRRixNQUFNRyxPQUFPLEdBQUc7UUFBd0IsR0FDMUU7WUFBRUosUUFBUTtRQUFJO0lBRWxCO0FBQ0Y7QUFFQSxtQ0FBbUM7QUFDNUIsZUFBZTZDLElBQUlwRSxPQUFvQjtJQUM1QyxJQUFJO1FBQ0YsTUFBTXFFLE9BQU8sTUFBTXJFLFFBQVFzQixJQUFJO1FBRS9CLHdCQUF3QjtRQUN4QixNQUFNLEVBQUVkLEVBQUUsRUFBRUcsT0FBTyxFQUFFLEdBQUdMLGtCQUFrQnNELEtBQUssQ0FBQ1M7UUFFaEQsMkJBQTJCO1FBQzNCLE1BQU1DLGVBQWUsTUFBTXpFLHlEQUFjQSxDQUFDMEUsa0JBQWtCLENBQUMvRCxJQUFJRztRQUVqRSxPQUFPaEIscURBQVlBLENBQUMyQixJQUFJLENBQUM7WUFBRWUsT0FBT2lDO1FBQWEsR0FBRztZQUFFL0MsUUFBUTtRQUFJO0lBQ2xFLEVBQUUsT0FBT0MsT0FBTztRQUNkQyxRQUFRRCxLQUFLLENBQUMseUJBQXlCQTtRQUV2QyxJQUFJQSxpQkFBaUI1Qix5Q0FBVSxFQUFFO1lBQy9CLE9BQU9ELHFEQUFZQSxDQUFDMkIsSUFBSSxDQUN0QjtnQkFBRUUsT0FBTztnQkFBd0JpRCxTQUFTakQsTUFBTWtELE1BQU07WUFBQyxHQUN2RDtnQkFBRW5ELFFBQVE7WUFBSTtRQUVsQjtRQUVBLE9BQU81QixxREFBWUEsQ0FBQzJCLElBQUksQ0FDdEI7WUFBRUUsT0FBT0EsaUJBQWlCRSxRQUFRRixNQUFNRyxPQUFPLEdBQUc7UUFBeUIsR0FDM0U7WUFBRUosUUFBUTtRQUFJO0lBRWxCO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9sbG0tY29uc2Vuc3VzLWJlbmNobWFyay1uZXh0anMvLi9hcHAvYXBpL21vZGVscy9yb3V0ZS50cz8wMzY3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcidcbmltcG9ydCB7IHogfSBmcm9tICd6b2QnXG5pbXBvcnQgeyBzdXBhYmFzZUNsaWVudCB9IGZyb20gJ0AvbGliL3N1cGFiYXNlJ1xuaW1wb3J0IE9wZW5Sb3V0ZXJDbGllbnQgZnJvbSAnQC9saWIvb3BlbnJvdXRlcidcblxuLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGdldCBPcGVuUm91dGVyIEFQSSBrZXkgZnJvbSBlbnZpcm9ubWVudCBvciBoZWFkZXJzXG5mdW5jdGlvbiBnZXRPcGVuUm91dGVyQXBpS2V5KHJlcXVlc3Q/OiBOZXh0UmVxdWVzdCk6IHN0cmluZyB8IG51bGwge1xuICAvLyBGaXJzdCB0cnkgZW52aXJvbm1lbnQgdmFyaWFibGUgKGZvciBwcm9kdWN0aW9uKVxuICBpZiAocHJvY2Vzcy5lbnYuT1BFTlJPVVRFUl9BUElfS0VZKSB7XG4gICAgcmV0dXJuIHByb2Nlc3MuZW52Lk9QRU5ST1VURVJfQVBJX0tFWVxuICB9XG4gIFxuICAvLyBGYWxsIGJhY2sgdG8gcmVxdWVzdCBoZWFkZXJzIChmb3IgZGV2ZWxvcG1lbnQgd2l0aCBzZXR0aW5ncyBwYWdlKVxuICBpZiAocmVxdWVzdD8uaGVhZGVycy5nZXQoJ1gtT3BlblJvdXRlci1BUEktS2V5JykpIHtcbiAgICByZXR1cm4gcmVxdWVzdC5oZWFkZXJzLmdldCgnWC1PcGVuUm91dGVyLUFQSS1LZXknKVxuICB9XG4gIFxuICByZXR1cm4gbnVsbFxufVxuXG4vLyBWYWxpZGF0aW9uIHNjaGVtYXNcbmNvbnN0IFVwZGF0ZU1vZGVsU2NoZW1hID0gei5vYmplY3Qoe1xuICBpZDogei5zdHJpbmcoKS51dWlkKCksXG4gIGVuYWJsZWQ6IHouYm9vbGVhbigpLFxufSlcblxuY29uc3QgTW9kZWxTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIG5hbWU6IHouc3RyaW5nKCksXG4gIHByb3ZpZGVyOiB6LnN0cmluZygpLFxuICBtb2RlbF9pZDogei5zdHJpbmcoKSxcbiAgZW5hYmxlZDogei5ib29sZWFuKCksXG4gIGNvbnRleHRfbGVuZ3RoOiB6Lm51bWJlcigpLFxufSlcblxuLy8gR0VUOiBGZXRjaCBhbGwgbW9kZWxzXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKCkge1xuICB0cnkge1xuICAgIGNvbnN0IG1vZGVscyA9IGF3YWl0IHN1cGFiYXNlQ2xpZW50LmdldE1vZGVscygpXG4gICAgXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgbW9kZWxzIH0sIHsgc3RhdHVzOiAyMDAgfSlcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBtb2RlbHM6JywgZXJyb3IpXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnRmFpbGVkIHRvIGZldGNoIG1vZGVscycgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgIClcbiAgfVxufVxuXG4vLyBQT1NUOiBTeW5jIG1vZGVscyBmcm9tIE9wZW5Sb3V0ZXJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc3Qgb3BlblJvdXRlckFwaUtleSA9IGdldE9wZW5Sb3V0ZXJBcGlLZXkocmVxdWVzdClcbiAgICBpZiAoIW9wZW5Sb3V0ZXJBcGlLZXkpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogJ09wZW5Sb3V0ZXIgQVBJIGtleSBpcyBub3QgY29uZmlndXJlZC4gUGxlYXNlIHNldCBpdCBpbiBlbnZpcm9ubWVudCB2YXJpYWJsZXMgb3IgdmlhIHRoZSBzZXR0aW5ncyBwYWdlLicgfSxcbiAgICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgICApXG4gICAgfVxuXG4gICAgLy8gSW5pdGlhbGl6ZSBPcGVuUm91dGVyIGNsaWVudFxuICAgIGNvbnN0IG9wZW5Sb3V0ZXIgPSBuZXcgT3BlblJvdXRlckNsaWVudChvcGVuUm91dGVyQXBpS2V5KVxuICAgIFxuICAgIC8vIEZldGNoIG1vZGVscyBmcm9tIE9wZW5Sb3V0ZXJcbiAgICBjb25zdCBvcGVuUm91dGVyUmVzcG9uc2UgPSBhd2FpdCBvcGVuUm91dGVyLmdldE1vZGVscygpXG4gICAgXG4gICAgaWYgKCFvcGVuUm91dGVyUmVzcG9uc2U/LmRhdGEpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogJ0ZhaWxlZCB0byBmZXRjaCBtb2RlbHMgZnJvbSBPcGVuUm91dGVyLicgfSxcbiAgICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgICApXG4gICAgfVxuXG4gICAgLy8gRmlsdGVyIG1vZGVscyBmb3IgYmVuY2htYXJraW5nXG4gICAgY29uc3QgZmlsdGVyZWRNb2RlbHMgPSBPcGVuUm91dGVyQ2xpZW50LmZpbHRlck1vZGVsc0ZvckJlbmNobWFyayhvcGVuUm91dGVyUmVzcG9uc2UuZGF0YSlcbiAgICBcbiAgICAvLyBMaW1pdCBtb2RlbHMgcGVyIHByb3ZpZGVyICh1cCB0byA1IGVhY2gpXG4gICAgY29uc3QgcHJvdmlkZXJNb2RlbHM6IFJlY29yZDxzdHJpbmcsIGFueVtdPiA9IHt9XG4gICAgZmlsdGVyZWRNb2RlbHMuZm9yRWFjaChtb2RlbCA9PiB7XG4gICAgICBjb25zdCBbcHJvdmlkZXJdID0gbW9kZWwuaWQuc3BsaXQoJy8nKVxuICAgICAgaWYgKCFwcm92aWRlck1vZGVsc1twcm92aWRlcl0pIHtcbiAgICAgICAgcHJvdmlkZXJNb2RlbHNbcHJvdmlkZXJdID0gW11cbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKHByb3ZpZGVyTW9kZWxzW3Byb3ZpZGVyXS5sZW5ndGggPCA1KSB7XG4gICAgICAgIHByb3ZpZGVyTW9kZWxzW3Byb3ZpZGVyXS5wdXNoKG1vZGVsKVxuICAgICAgfVxuICAgIH0pXG5cbiAgICAvLyBGbGF0dGVuIHRoZSBwcm92aWRlciBtb2RlbHNcbiAgICBjb25zdCBzZWxlY3RlZE1vZGVscyA9IE9iamVjdC52YWx1ZXMocHJvdmlkZXJNb2RlbHMpLmZsYXQoKVxuICAgIFxuICAgIC8vIFByb2Nlc3MgbW9kZWxzIGZvciBvdXIgZGF0YWJhc2VcbiAgICBjb25zdCBtb2RlbHMgPSBzZWxlY3RlZE1vZGVscy5tYXAobW9kZWwgPT4ge1xuICAgICAgLy8gRXh0cmFjdCBwcm92aWRlciBmcm9tIG1vZGVsIElEXG4gICAgICBjb25zdCBbcHJvdmlkZXIsIG1vZGVsTmFtZV0gPSBtb2RlbC5pZC5zcGxpdCgnLycpXG4gICAgICBjb25zdCBmb3JtYXR0ZWRQcm92aWRlciA9IHByb3ZpZGVyLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgcHJvdmlkZXIuc2xpY2UoMSlcbiAgICAgIFxuICAgICAgLy8gRm9ybWF0IG1vZGVsIG5hbWVcbiAgICAgIGNvbnN0IGZvcm1hdHRlZE5hbWUgPSBtb2RlbE5hbWVcbiAgICAgICAgLnNwbGl0KCctJylcbiAgICAgICAgLm1hcCgocGFydDogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgaWYgKC9eXFxkKyQvLnRlc3QocGFydCkpIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJ0XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBwYXJ0LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgcGFydC5zbGljZSgxKVxuICAgICAgICB9KVxuICAgICAgICAuam9pbignICcpXG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIG5hbWU6IGZvcm1hdHRlZE5hbWUsXG4gICAgICAgIHByb3ZpZGVyOiBmb3JtYXR0ZWRQcm92aWRlcixcbiAgICAgICAgbW9kZWxfaWQ6IG1vZGVsLmlkLFxuICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICBjb250ZXh0X2xlbmd0aDogbW9kZWwuY29udGV4dF9sZW5ndGggfHwgNDA5NlxuICAgICAgfVxuICAgIH0pXG5cbiAgICAvLyBBZGQgcmVjb21tZW5kZWQgbW9kZWxzIGlmIHRoZXkncmUgbm90IGFscmVhZHkgaW5jbHVkZWRcbiAgICBjb25zdCByZWNvbW1lbmRlZE1vZGVscyA9IFtcbiAgICAgIHsgaWQ6ICdvcGVuYWkvZ3B0LTRvJywgbmFtZTogJ0dQVC00bycsIHByb3ZpZGVyOiAnT3BlbkFJJywgY29udGV4dF9sZW5ndGg6IDEyODAwMCB9LFxuICAgICAgeyBpZDogJ2FudGhyb3BpYy9jbGF1ZGUtMy01LXNvbm5ldCcsIG5hbWU6ICdDbGF1ZGUgMy41IFNvbm5ldCcsIHByb3ZpZGVyOiAnQW50aHJvcGljJywgY29udGV4dF9sZW5ndGg6IDIwMDAwMCB9LFxuICAgICAgeyBpZDogJ2dvb2dsZS9nZW1pbmktcHJvLTEuNScsIG5hbWU6ICdHZW1pbmkgUHJvIDEuNScsIHByb3ZpZGVyOiAnR29vZ2xlJywgY29udGV4dF9sZW5ndGg6IDIwMDAwMDAgfSxcbiAgICAgIHsgaWQ6ICdtZXRhLWxsYW1hL2xsYW1hLTMuMS03MGItaW5zdHJ1Y3QnLCBuYW1lOiAnTGxhbWEgMy4xIDcwQicsIHByb3ZpZGVyOiAnTWV0YScsIGNvbnRleHRfbGVuZ3RoOiAxMzEwNzIgfSxcbiAgICAgIHsgaWQ6ICdtaXN0cmFsYWkvbWlzdHJhbC1sYXJnZScsIG5hbWU6ICdNaXN0cmFsIExhcmdlJywgcHJvdmlkZXI6ICdNaXN0cmFsIEFJJywgY29udGV4dF9sZW5ndGg6IDEyODAwMCB9LFxuICAgICAgeyBpZDogJ2NvaGVyZS9jb21tYW5kLXItcGx1cycsIG5hbWU6ICdDb21tYW5kIFIrJywgcHJvdmlkZXI6ICdDb2hlcmUnLCBjb250ZXh0X2xlbmd0aDogMTI4MDAwIH1cbiAgICBdXG5cbiAgICByZWNvbW1lbmRlZE1vZGVscy5mb3JFYWNoKHJlY01vZGVsID0+IHtcbiAgICAgIGlmICghbW9kZWxzLnNvbWUobSA9PiBtLm1vZGVsX2lkID09PSByZWNNb2RlbC5pZCkpIHtcbiAgICAgICAgbW9kZWxzLnB1c2goe1xuICAgICAgICAgIG5hbWU6IHJlY01vZGVsLm5hbWUsXG4gICAgICAgICAgcHJvdmlkZXI6IHJlY01vZGVsLnByb3ZpZGVyLFxuICAgICAgICAgIG1vZGVsX2lkOiByZWNNb2RlbC5pZCxcbiAgICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICAgIGNvbnRleHRfbGVuZ3RoOiByZWNNb2RlbC5jb250ZXh0X2xlbmd0aFxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH0pXG5cbiAgICAvLyBWYWxpZGF0ZSBtb2RlbHNcbiAgICBjb25zdCB2YWxpZGF0ZWRNb2RlbHMgPSBtb2RlbHMubWFwKG1vZGVsID0+IE1vZGVsU2NoZW1hLnBhcnNlKG1vZGVsKSlcblxuICAgIC8vIEdldCBleGlzdGluZyBtb2RlbHMgdG8gcHJlc2VydmUgZW5hYmxlZCBzdGF0dXNcbiAgICBjb25zdCBleGlzdGluZ01vZGVscyA9IGF3YWl0IHN1cGFiYXNlQ2xpZW50LmdldE1vZGVscygpXG4gICAgY29uc3QgZXhpc3RpbmdNb2RlbE1hcCA9IG5ldyBNYXAoZXhpc3RpbmdNb2RlbHMubWFwKG0gPT4gW20ubW9kZWxfaWQsIG0uZW5hYmxlZF0pKVxuXG4gICAgLy8gUHJlc2VydmUgZW5hYmxlZCBzdGF0dXMgZm9yIGV4aXN0aW5nIG1vZGVsc1xuICAgIGNvbnN0IG1vZGVsc1RvVXBzZXJ0ID0gdmFsaWRhdGVkTW9kZWxzLm1hcChtb2RlbCA9PiAoe1xuICAgICAgLi4ubW9kZWwsXG4gICAgICBlbmFibGVkOiBleGlzdGluZ01vZGVsTWFwLmhhcyhtb2RlbC5tb2RlbF9pZCkgXG4gICAgICAgID8gZXhpc3RpbmdNb2RlbE1hcC5nZXQobW9kZWwubW9kZWxfaWQpISBcbiAgICAgICAgOiB0cnVlXG4gICAgfSkpXG5cbiAgICAvLyBVcHNlcnQgbW9kZWxzXG4gICAgY29uc3Qgc2F2ZWRNb2RlbHMgPSBhd2FpdCBzdXBhYmFzZUNsaWVudC51cHNlcnRNb2RlbHMobW9kZWxzVG9VcHNlcnQpXG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgbWVzc2FnZTogYFN1Y2Nlc3NmdWxseSBzeW5jZWQgJHtzYXZlZE1vZGVscy5sZW5ndGh9IG1vZGVscy5gLFxuICAgICAgbW9kZWxzOiBzYXZlZE1vZGVsc1xuICAgIH0sIHsgc3RhdHVzOiAyMDAgfSlcblxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHN5bmNpbmcgbW9kZWxzOicsIGVycm9yKVxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ0ZhaWxlZCB0byBzeW5jIG1vZGVscycgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgIClcbiAgfVxufVxuXG4vLyBQVVQ6IFVwZGF0ZSBtb2RlbCBlbmFibGVkIHN0YXR1c1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBVVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKVxuICAgIFxuICAgIC8vIFZhbGlkYXRlIHJlcXVlc3QgYm9keVxuICAgIGNvbnN0IHsgaWQsIGVuYWJsZWQgfSA9IFVwZGF0ZU1vZGVsU2NoZW1hLnBhcnNlKGJvZHkpXG4gICAgXG4gICAgLy8gVXBkYXRlIG1vZGVsIGluIGRhdGFiYXNlXG4gICAgY29uc3QgdXBkYXRlZE1vZGVsID0gYXdhaXQgc3VwYWJhc2VDbGllbnQudXBkYXRlTW9kZWxFbmFibGVkKGlkLCBlbmFibGVkKVxuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgbW9kZWw6IHVwZGF0ZWRNb2RlbCB9LCB7IHN0YXR1czogMjAwIH0pXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgbW9kZWw6JywgZXJyb3IpXG4gICAgXG4gICAgaWYgKGVycm9yIGluc3RhbmNlb2Ygei5ab2RFcnJvcikge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnSW52YWxpZCByZXF1ZXN0IGRhdGEnLCBkZXRhaWxzOiBlcnJvci5lcnJvcnMgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICApXG4gICAgfVxuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnRmFpbGVkIHRvIHVwZGF0ZSBtb2RlbCcgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgIClcbiAgfVxufSJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJ6Iiwic3VwYWJhc2VDbGllbnQiLCJPcGVuUm91dGVyQ2xpZW50IiwiZ2V0T3BlblJvdXRlckFwaUtleSIsInJlcXVlc3QiLCJwcm9jZXNzIiwiZW52IiwiT1BFTlJPVVRFUl9BUElfS0VZIiwiaGVhZGVycyIsImdldCIsIlVwZGF0ZU1vZGVsU2NoZW1hIiwib2JqZWN0IiwiaWQiLCJzdHJpbmciLCJ1dWlkIiwiZW5hYmxlZCIsImJvb2xlYW4iLCJNb2RlbFNjaGVtYSIsIm5hbWUiLCJwcm92aWRlciIsIm1vZGVsX2lkIiwiY29udGV4dF9sZW5ndGgiLCJudW1iZXIiLCJHRVQiLCJtb2RlbHMiLCJnZXRNb2RlbHMiLCJqc29uIiwic3RhdHVzIiwiZXJyb3IiLCJjb25zb2xlIiwiRXJyb3IiLCJtZXNzYWdlIiwiUE9TVCIsIm9wZW5Sb3V0ZXJBcGlLZXkiLCJvcGVuUm91dGVyIiwib3BlblJvdXRlclJlc3BvbnNlIiwiZGF0YSIsImZpbHRlcmVkTW9kZWxzIiwiZmlsdGVyTW9kZWxzRm9yQmVuY2htYXJrIiwicHJvdmlkZXJNb2RlbHMiLCJmb3JFYWNoIiwibW9kZWwiLCJzcGxpdCIsImxlbmd0aCIsInB1c2giLCJzZWxlY3RlZE1vZGVscyIsIk9iamVjdCIsInZhbHVlcyIsImZsYXQiLCJtYXAiLCJtb2RlbE5hbWUiLCJmb3JtYXR0ZWRQcm92aWRlciIsImNoYXJBdCIsInRvVXBwZXJDYXNlIiwic2xpY2UiLCJmb3JtYXR0ZWROYW1lIiwicGFydCIsInRlc3QiLCJqb2luIiwicmVjb21tZW5kZWRNb2RlbHMiLCJyZWNNb2RlbCIsInNvbWUiLCJtIiwidmFsaWRhdGVkTW9kZWxzIiwicGFyc2UiLCJleGlzdGluZ01vZGVscyIsImV4aXN0aW5nTW9kZWxNYXAiLCJNYXAiLCJtb2RlbHNUb1Vwc2VydCIsImhhcyIsInNhdmVkTW9kZWxzIiwidXBzZXJ0TW9kZWxzIiwiUFVUIiwiYm9keSIsInVwZGF0ZWRNb2RlbCIsInVwZGF0ZU1vZGVsRW5hYmxlZCIsIlpvZEVycm9yIiwiZGV0YWlscyIsImVycm9ycyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/models/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/openrouter.ts":
/*!***************************!*\
  !*** ./lib/openrouter.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OpenRouterClient: () => (/* binding */ OpenRouterClient),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass OpenRouterClient {\n    constructor(apiKey){\n        this.apiKey = apiKey;\n        this.baseUrl = \"https://openrouter.ai/api/v1\";\n    }\n    async getModels() {\n        try {\n            const response = await fetch(`${this.baseUrl}/models`, {\n                headers: {\n                    \"Authorization\": `Bearer ${this.apiKey}`,\n                    \"Content-Type\": \"application/json\"\n                }\n            });\n            if (!response.ok) {\n                const errorText = await response.text();\n                throw new Error(`OpenRouter API error (${response.status}): ${errorText}`);\n            }\n            return await response.json();\n        } catch (error) {\n            console.error(\"Error fetching models from OpenRouter:\", error);\n            throw new Error(`Failed to fetch models: ${error instanceof Error ? error.message : \"Unknown error\"}`);\n        }\n    }\n    async getCompletion(modelId, prompt, options = {}) {\n        const startTime = Date.now();\n        const { maxTokens = 50, temperature = 0.7, systemPrompt = \"You are a helpful assistant. Please provide a clear, concise response to the user's question.\", timeout = 30000 } = options;\n        try {\n            const controller = new AbortController();\n            const timeoutId = setTimeout(()=>controller.abort(), timeout);\n            const response = await fetch(`${this.baseUrl}/chat/completions`, {\n                method: \"POST\",\n                headers: {\n                    \"Authorization\": `Bearer ${this.apiKey}`,\n                    \"Content-Type\": \"application/json\",\n                    \"HTTP-Referer\": process.env.NEXT_PUBLIC_APP_URL || \"http://localhost:3000\",\n                    \"X-Title\": \"LLM Consensus Benchmark\"\n                },\n                signal: controller.signal,\n                body: JSON.stringify({\n                    model: modelId,\n                    messages: [\n                        {\n                            role: \"system\",\n                            content: systemPrompt\n                        },\n                        {\n                            role: \"user\",\n                            content: prompt\n                        }\n                    ],\n                    max_tokens: maxTokens,\n                    temperature,\n                    stream: false\n                })\n            });\n            clearTimeout(timeoutId);\n            if (!response.ok) {\n                const errorText = await response.text().catch(()=>\"Unknown error\");\n                console.error(\"OpenRouter error response:\", response.status, errorText);\n                let errorMessage = errorText;\n                try {\n                    const errorData = JSON.parse(errorText);\n                    errorMessage = errorData.error?.message || errorData.error || errorText;\n                } catch (e) {\n                // errorText is already set\n                }\n                throw new Error(`OpenRouter API error (${response.status}): ${errorMessage}`);\n            }\n            const data = await response.json();\n            const endTime = Date.now();\n            if (!data.choices || data.choices.length === 0) {\n                throw new Error(\"No response choices returned from OpenRouter\");\n            }\n            const content = data.choices[0].message.content?.trim();\n            if (!content) {\n                throw new Error(\"Empty response from model\");\n            }\n            return {\n                text: content,\n                timeMs: endTime - startTime,\n                usage: data.usage\n            };\n        } catch (error) {\n            const endTime = Date.now();\n            if (error instanceof Error && error.name === \"AbortError\") {\n                throw new Error(`Request timeout after ${timeout}ms`);\n            }\n            console.error(`Error getting completion from ${modelId}:`, error);\n            throw new Error(`Failed to get completion: ${error instanceof Error ? error.message : \"Unknown error\"}`);\n        }\n    }\n    async batchCompletion(modelIds, prompt, options = {}) {\n        const { concurrency = 5 } = options;\n        // Process requests in batches to avoid overwhelming the API\n        const results = [];\n        for(let i = 0; i < modelIds.length; i += concurrency){\n            const batch = modelIds.slice(i, i + concurrency);\n            const batchPromises = batch.map(async (modelId)=>{\n                try {\n                    const result = await this.getCompletion(modelId, prompt, options);\n                    return {\n                        modelId,\n                        result\n                    };\n                } catch (error) {\n                    console.error(`Error for model ${modelId}:`, error);\n                    return {\n                        modelId,\n                        error: error instanceof Error ? error.message : \"Unknown error\"\n                    };\n                }\n            });\n            const batchResults = await Promise.all(batchPromises);\n            results.push(...batchResults);\n            // Small delay between batches to be respectful to the API\n            if (i + concurrency < modelIds.length) {\n                await new Promise((resolve)=>setTimeout(resolve, 100));\n            }\n        }\n        return results;\n    }\n    // Utility method to filter and select models for benchmarking\n    static filterModelsForBenchmark(models) {\n        return models.filter((model)=>{\n            const modelId = model.id.toLowerCase();\n            // Exclude free, vision, and preview models\n            return !modelId.includes(\":free\") && !modelId.includes(\"vision\") && !modelId.includes(\"preview\") && !modelId.includes(\"beta\") && model.context_length >= 2000 // Ensure reasonable context length\n            ;\n        });\n    }\n    // Get recommended models for quick setup\n    static getRecommendedModelIds() {\n        return [\n            \"openai/gpt-4o\",\n            \"anthropic/claude-3-5-sonnet\",\n            \"google/gemini-pro-1.5\",\n            \"meta-llama/llama-3.1-70b-instruct\",\n            \"mistralai/mistral-large\",\n            \"cohere/command-r-plus\"\n        ];\n    }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (OpenRouterClient);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O1lBQ0E7U0FDRDtJQUNIO0FBQ0Y7QUFFQSxpRUFBZW5GLGdCQUFnQkEsRUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL2xsbS1jb25zZW5zdXMtYmVuY2htYXJrLW5leHRqcy8uL2xpYi9vcGVucm91dGVyLnRzP2E2ODMiXSwic291cmNlc0NvbnRlbnQiOlsiaW50ZXJmYWNlIE9wZW5Sb3V0ZXJNb2RlbCB7XG4gIGlkOiBzdHJpbmdcbiAgbmFtZTogc3RyaW5nXG4gIGRlc2NyaXB0aW9uPzogc3RyaW5nXG4gIGNvbnRleHRfbGVuZ3RoOiBudW1iZXJcbiAgcHJpY2luZzoge1xuICAgIHByb21wdDogc3RyaW5nXG4gICAgY29tcGxldGlvbjogc3RyaW5nXG4gIH1cbiAgdG9wX3Byb3ZpZGVyPzoge1xuICAgIG1heF9jb21wbGV0aW9uX3Rva2Vucz86IG51bWJlclxuICB9XG59XG5cbmludGVyZmFjZSBPcGVuUm91dGVyUmVzcG9uc2Uge1xuICBkYXRhOiBPcGVuUm91dGVyTW9kZWxbXVxufVxuXG5pbnRlcmZhY2UgQ29tcGxldGlvblJlc3BvbnNlIHtcbiAgaWQ6IHN0cmluZ1xuICBvYmplY3Q6IHN0cmluZ1xuICBjcmVhdGVkOiBudW1iZXJcbiAgbW9kZWw6IHN0cmluZ1xuICBjaG9pY2VzOiBBcnJheTx7XG4gICAgaW5kZXg6IG51bWJlclxuICAgIG1lc3NhZ2U6IHtcbiAgICAgIHJvbGU6IHN0cmluZ1xuICAgICAgY29udGVudDogc3RyaW5nXG4gICAgfVxuICAgIGZpbmlzaF9yZWFzb246IHN0cmluZ1xuICB9PlxuICB1c2FnZToge1xuICAgIHByb21wdF90b2tlbnM6IG51bWJlclxuICAgIGNvbXBsZXRpb25fdG9rZW5zOiBudW1iZXJcbiAgICB0b3RhbF90b2tlbnM6IG51bWJlclxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBPcGVuUm91dGVyQ2xpZW50IHtcbiAgcHJpdmF0ZSBhcGlLZXk6IHN0cmluZ1xuICBwcml2YXRlIGJhc2VVcmw6IHN0cmluZ1xuXG4gIGNvbnN0cnVjdG9yKGFwaUtleTogc3RyaW5nKSB7XG4gICAgdGhpcy5hcGlLZXkgPSBhcGlLZXlcbiAgICB0aGlzLmJhc2VVcmwgPSAnaHR0cHM6Ly9vcGVucm91dGVyLmFpL2FwaS92MSdcbiAgfVxuXG4gIGFzeW5jIGdldE1vZGVscygpOiBQcm9taXNlPE9wZW5Sb3V0ZXJSZXNwb25zZT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3RoaXMuYmFzZVVybH0vbW9kZWxzYCwge1xuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7dGhpcy5hcGlLZXl9YCxcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICBcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgZXJyb3JUZXh0ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgT3BlblJvdXRlciBBUEkgZXJyb3IgKCR7cmVzcG9uc2Uuc3RhdHVzfSk6ICR7ZXJyb3JUZXh0fWApXG4gICAgICB9XG4gICAgICBcbiAgICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKClcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgbW9kZWxzIGZyb20gT3BlblJvdXRlcjonLCBlcnJvcilcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGZldGNoIG1vZGVsczogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31gKVxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGdldENvbXBsZXRpb24oXG4gICAgbW9kZWxJZDogc3RyaW5nLCBcbiAgICBwcm9tcHQ6IHN0cmluZywgXG4gICAgb3B0aW9uczoge1xuICAgICAgbWF4VG9rZW5zPzogbnVtYmVyXG4gICAgICB0ZW1wZXJhdHVyZT86IG51bWJlclxuICAgICAgc3lzdGVtUHJvbXB0Pzogc3RyaW5nXG4gICAgICB0aW1lb3V0PzogbnVtYmVyXG4gICAgfSA9IHt9XG4gICk6IFByb21pc2U8eyB0ZXh0OiBzdHJpbmc7IHRpbWVNczogbnVtYmVyOyB1c2FnZT86IGFueSB9PiB7XG4gICAgY29uc3Qgc3RhcnRUaW1lID0gRGF0ZS5ub3coKVxuICAgIFxuICAgIGNvbnN0IHtcbiAgICAgIG1heFRva2VucyA9IDUwLFxuICAgICAgdGVtcGVyYXR1cmUgPSAwLjcsXG4gICAgICBzeXN0ZW1Qcm9tcHQgPSAnWW91IGFyZSBhIGhlbHBmdWwgYXNzaXN0YW50LiBQbGVhc2UgcHJvdmlkZSBhIGNsZWFyLCBjb25jaXNlIHJlc3BvbnNlIHRvIHRoZSB1c2VyXFwncyBxdWVzdGlvbi4nLFxuICAgICAgdGltZW91dCA9IDMwMDAwXG4gICAgfSA9IG9wdGlvbnNcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBjb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpXG4gICAgICBjb25zdCB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IGNvbnRyb2xsZXIuYWJvcnQoKSwgdGltZW91dClcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHt0aGlzLmJhc2VVcmx9L2NoYXQvY29tcGxldGlvbnNgLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7dGhpcy5hcGlLZXl9YCxcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICdIVFRQLVJlZmVyZXInOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUFBfVVJMIHx8ICdodHRwOi8vbG9jYWxob3N0OjMwMDAnLFxuICAgICAgICAgICdYLVRpdGxlJzogJ0xMTSBDb25zZW5zdXMgQmVuY2htYXJrJ1xuICAgICAgICB9LFxuICAgICAgICBzaWduYWw6IGNvbnRyb2xsZXIuc2lnbmFsLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgbW9kZWw6IG1vZGVsSWQsXG4gICAgICAgICAgbWVzc2FnZXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgcm9sZTogJ3N5c3RlbScsXG4gICAgICAgICAgICAgIGNvbnRlbnQ6IHN5c3RlbVByb21wdFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgcm9sZTogJ3VzZXInLFxuICAgICAgICAgICAgICBjb250ZW50OiBwcm9tcHRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdLFxuICAgICAgICAgIG1heF90b2tlbnM6IG1heFRva2VucyxcbiAgICAgICAgICB0ZW1wZXJhdHVyZSxcbiAgICAgICAgICBzdHJlYW06IGZhbHNlXG4gICAgICAgIH0pXG4gICAgICB9KVxuXG4gICAgICBjbGVhclRpbWVvdXQodGltZW91dElkKVxuXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IGVycm9yVGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKS5jYXRjaCgoKSA9PiAnVW5rbm93biBlcnJvcicpXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ09wZW5Sb3V0ZXIgZXJyb3IgcmVzcG9uc2U6JywgcmVzcG9uc2Uuc3RhdHVzLCBlcnJvclRleHQpXG4gICAgICAgIGxldCBlcnJvck1lc3NhZ2UgPSBlcnJvclRleHRcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBlcnJvckRhdGEgPSBKU09OLnBhcnNlKGVycm9yVGV4dClcbiAgICAgICAgICBlcnJvck1lc3NhZ2UgPSBlcnJvckRhdGEuZXJyb3I/Lm1lc3NhZ2UgfHwgZXJyb3JEYXRhLmVycm9yIHx8IGVycm9yVGV4dFxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgLy8gZXJyb3JUZXh0IGlzIGFscmVhZHkgc2V0XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBPcGVuUm91dGVyIEFQSSBlcnJvciAoJHtyZXNwb25zZS5zdGF0dXN9KTogJHtlcnJvck1lc3NhZ2V9YClcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgZGF0YTogQ29tcGxldGlvblJlc3BvbnNlID0gYXdhaXQgcmVzcG9uc2UuanNvbigpXG4gICAgICBjb25zdCBlbmRUaW1lID0gRGF0ZS5ub3coKVxuICAgICAgXG4gICAgICBpZiAoIWRhdGEuY2hvaWNlcyB8fCBkYXRhLmNob2ljZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gcmVzcG9uc2UgY2hvaWNlcyByZXR1cm5lZCBmcm9tIE9wZW5Sb3V0ZXInKVxuICAgICAgfVxuXG4gICAgICBjb25zdCBjb250ZW50ID0gZGF0YS5jaG9pY2VzWzBdLm1lc3NhZ2UuY29udGVudD8udHJpbSgpXG4gICAgICBpZiAoIWNvbnRlbnQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFbXB0eSByZXNwb25zZSBmcm9tIG1vZGVsJylcbiAgICAgIH1cbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdGV4dDogY29udGVudCxcbiAgICAgICAgdGltZU1zOiBlbmRUaW1lIC0gc3RhcnRUaW1lLFxuICAgICAgICB1c2FnZTogZGF0YS51c2FnZVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zdCBlbmRUaW1lID0gRGF0ZS5ub3coKVxuICAgICAgXG4gICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJiBlcnJvci5uYW1lID09PSAnQWJvcnRFcnJvcicpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBSZXF1ZXN0IHRpbWVvdXQgYWZ0ZXIgJHt0aW1lb3V0fW1zYClcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgZ2V0dGluZyBjb21wbGV0aW9uIGZyb20gJHttb2RlbElkfTpgLCBlcnJvcilcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGdldCBjb21wbGV0aW9uOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InfWApXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgYmF0Y2hDb21wbGV0aW9uKFxuICAgIG1vZGVsSWRzOiBzdHJpbmdbXSwgXG4gICAgcHJvbXB0OiBzdHJpbmcsIFxuICAgIG9wdGlvbnM6IHtcbiAgICAgIG1heFRva2Vucz86IG51bWJlclxuICAgICAgdGVtcGVyYXR1cmU/OiBudW1iZXJcbiAgICAgIHN5c3RlbVByb21wdD86IHN0cmluZ1xuICAgICAgdGltZW91dD86IG51bWJlclxuICAgICAgY29uY3VycmVuY3k/OiBudW1iZXJcbiAgICB9ID0ge31cbiAgKTogUHJvbWlzZTxBcnJheTx7IG1vZGVsSWQ6IHN0cmluZzsgcmVzdWx0PzogeyB0ZXh0OiBzdHJpbmc7IHRpbWVNczogbnVtYmVyOyB1c2FnZT86IGFueSB9OyBlcnJvcj86IHN0cmluZyB9Pj4ge1xuICAgIGNvbnN0IHsgY29uY3VycmVuY3kgPSA1IH0gPSBvcHRpb25zXG4gICAgXG4gICAgLy8gUHJvY2VzcyByZXF1ZXN0cyBpbiBiYXRjaGVzIHRvIGF2b2lkIG92ZXJ3aGVsbWluZyB0aGUgQVBJXG4gICAgY29uc3QgcmVzdWx0czogQXJyYXk8eyBtb2RlbElkOiBzdHJpbmc7IHJlc3VsdD86IHsgdGV4dDogc3RyaW5nOyB0aW1lTXM6IG51bWJlcjsgdXNhZ2U/OiBhbnkgfTsgZXJyb3I/OiBzdHJpbmcgfT4gPSBbXVxuICAgIFxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbW9kZWxJZHMubGVuZ3RoOyBpICs9IGNvbmN1cnJlbmN5KSB7XG4gICAgICBjb25zdCBiYXRjaCA9IG1vZGVsSWRzLnNsaWNlKGksIGkgKyBjb25jdXJyZW5jeSlcbiAgICAgIFxuICAgICAgY29uc3QgYmF0Y2hQcm9taXNlcyA9IGJhdGNoLm1hcChhc3luYyAobW9kZWxJZCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZ2V0Q29tcGxldGlvbihtb2RlbElkLCBwcm9tcHQsIG9wdGlvbnMpXG4gICAgICAgICAgcmV0dXJuIHsgbW9kZWxJZCwgcmVzdWx0IH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBmb3IgbW9kZWwgJHttb2RlbElkfTpgLCBlcnJvcilcbiAgICAgICAgICByZXR1cm4geyBcbiAgICAgICAgICAgIG1vZGVsSWQsIFxuICAgICAgICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgXG4gICAgICBjb25zdCBiYXRjaFJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbChiYXRjaFByb21pc2VzKVxuICAgICAgcmVzdWx0cy5wdXNoKC4uLmJhdGNoUmVzdWx0cylcbiAgICAgIFxuICAgICAgLy8gU21hbGwgZGVsYXkgYmV0d2VlbiBiYXRjaGVzIHRvIGJlIHJlc3BlY3RmdWwgdG8gdGhlIEFQSVxuICAgICAgaWYgKGkgKyBjb25jdXJyZW5jeSA8IG1vZGVsSWRzLmxlbmd0aCkge1xuICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTAwKSlcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHJlc3VsdHNcbiAgfVxuXG4gIC8vIFV0aWxpdHkgbWV0aG9kIHRvIGZpbHRlciBhbmQgc2VsZWN0IG1vZGVscyBmb3IgYmVuY2htYXJraW5nXG4gIHN0YXRpYyBmaWx0ZXJNb2RlbHNGb3JCZW5jaG1hcmsobW9kZWxzOiBPcGVuUm91dGVyTW9kZWxbXSk6IE9wZW5Sb3V0ZXJNb2RlbFtdIHtcbiAgICByZXR1cm4gbW9kZWxzLmZpbHRlcihtb2RlbCA9PiB7XG4gICAgICBjb25zdCBtb2RlbElkID0gbW9kZWwuaWQudG9Mb3dlckNhc2UoKVxuICAgICAgXG4gICAgICAvLyBFeGNsdWRlIGZyZWUsIHZpc2lvbiwgYW5kIHByZXZpZXcgbW9kZWxzXG4gICAgICByZXR1cm4gIW1vZGVsSWQuaW5jbHVkZXMoJzpmcmVlJykgJiYgXG4gICAgICAgICAgICAgIW1vZGVsSWQuaW5jbHVkZXMoJ3Zpc2lvbicpICYmIFxuICAgICAgICAgICAgICFtb2RlbElkLmluY2x1ZGVzKCdwcmV2aWV3JykgJiZcbiAgICAgICAgICAgICAhbW9kZWxJZC5pbmNsdWRlcygnYmV0YScpICYmXG4gICAgICAgICAgICAgbW9kZWwuY29udGV4dF9sZW5ndGggPj0gMjAwMCAvLyBFbnN1cmUgcmVhc29uYWJsZSBjb250ZXh0IGxlbmd0aFxuICAgIH0pXG4gIH1cblxuICAvLyBHZXQgcmVjb21tZW5kZWQgbW9kZWxzIGZvciBxdWljayBzZXR1cFxuICBzdGF0aWMgZ2V0UmVjb21tZW5kZWRNb2RlbElkcygpOiBzdHJpbmdbXSB7XG4gICAgcmV0dXJuIFtcbiAgICAgICdvcGVuYWkvZ3B0LTRvJyxcbiAgICAgICdhbnRocm9waWMvY2xhdWRlLTMtNS1zb25uZXQnLFxuICAgICAgJ2dvb2dsZS9nZW1pbmktcHJvLTEuNScsXG4gICAgICAnbWV0YS1sbGFtYS9sbGFtYS0zLjEtNzBiLWluc3RydWN0JyxcbiAgICAgICdtaXN0cmFsYWkvbWlzdHJhbC1sYXJnZScsXG4gICAgICAnY29oZXJlL2NvbW1hbmQtci1wbHVzJ1xuICAgIF1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBPcGVuUm91dGVyQ2xpZW50Il0sIm5hbWVzIjpbIk9wZW5Sb3V0ZXJDbGllbnQiLCJjb25zdHJ1Y3RvciIsImFwaUtleSIsImJhc2VVcmwiLCJnZXRNb2RlbHMiLCJyZXNwb25zZSIsImZldGNoIiwiaGVhZGVycyIsIm9rIiwiZXJyb3JUZXh0IiwidGV4dCIsIkVycm9yIiwic3RhdHVzIiwianNvbiIsImVycm9yIiwiY29uc29sZSIsIm1lc3NhZ2UiLCJnZXRDb21wbGV0aW9uIiwibW9kZWxJZCIsInByb21wdCIsIm9wdGlvbnMiLCJzdGFydFRpbWUiLCJEYXRlIiwibm93IiwibWF4VG9rZW5zIiwidGVtcGVyYXR1cmUiLCJzeXN0ZW1Qcm9tcHQiLCJ0aW1lb3V0IiwiY29udHJvbGxlciIsIkFib3J0Q29udHJvbGxlciIsInRpbWVvdXRJZCIsInNldFRpbWVvdXQiLCJhYm9ydCIsIm1ldGhvZCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19BUFBfVVJMIiwic2lnbmFsIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJtb2RlbCIsIm1lc3NhZ2VzIiwicm9sZSIsImNvbnRlbnQiLCJtYXhfdG9rZW5zIiwic3RyZWFtIiwiY2xlYXJUaW1lb3V0IiwiY2F0Y2giLCJlcnJvck1lc3NhZ2UiLCJlcnJvckRhdGEiLCJwYXJzZSIsImUiLCJkYXRhIiwiZW5kVGltZSIsImNob2ljZXMiLCJsZW5ndGgiLCJ0cmltIiwidGltZU1zIiwidXNhZ2UiLCJuYW1lIiwiYmF0Y2hDb21wbGV0aW9uIiwibW9kZWxJZHMiLCJjb25jdXJyZW5jeSIsInJlc3VsdHMiLCJpIiwiYmF0Y2giLCJzbGljZSIsImJhdGNoUHJvbWlzZXMiLCJtYXAiLCJyZXN1bHQiLCJiYXRjaFJlc3VsdHMiLCJQcm9taXNlIiwiYWxsIiwicHVzaCIsInJlc29sdmUiLCJmaWx0ZXJNb2RlbHNGb3JCZW5jaG1hcmsiLCJtb2RlbHMiLCJmaWx0ZXIiLCJpZCIsInRvTG93ZXJDYXNlIiwiaW5jbHVkZXMiLCJjb250ZXh0X2xlbmd0aCIsImdldFJlY29tbWVuZGVkTW9kZWxJZHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/openrouter.ts\n");

/***/ }),

/***/ "(rsc)/./lib/supabase.ts":
/*!*************************!*\
  !*** ./lib/supabase.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SupabaseClient: () => (/* binding */ SupabaseClient),\n/* harmony export */   supabase: () => (/* binding */ supabase),\n/* harmony export */   supabaseClient: () => (/* binding */ supabaseClient)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/./node_modules/@supabase/supabase-js/dist/module/index.js\");\n\nconst supabaseUrl = \"https://rhwjusutkkwxypbqaoph.supabase.co\";\nconst supabaseAnonKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJod2p1c3V0a2t3eHlwYnFhb3BoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc4ODEzNjAsImV4cCI6MjA2MzQ1NzM2MH0.4cYuDuaZyxfG7T1lkkiLttDehiYg9LdWKwEq1tPLkXM\";\nif (!supabaseUrl || !supabaseAnonKey) {\n    throw new Error(\"Missing Supabase environment variables\");\n}\nconst supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseAnonKey);\n// Supabase client with enhanced error handling\nclass SupabaseClient {\n    async getModels() {\n        try {\n            const { data, error } = await this.client.from(\"models\").select(\"*\").order(\"provider\", {\n                ascending: true\n            }).order(\"name\", {\n                ascending: true\n            });\n            if (error) {\n                throw new Error(`Failed to fetch models: ${error.message}`);\n            }\n            return data || [];\n        } catch (error) {\n            console.error(\"Error fetching models:\", error);\n            throw error;\n        }\n    }\n    async updateModelEnabled(id, enabled) {\n        try {\n            const { data, error } = await this.client.from(\"models\").update({\n                enabled,\n                updated_at: new Date().toISOString()\n            }).eq(\"id\", id).select().single();\n            if (error) {\n                throw new Error(`Failed to update model: ${error.message}`);\n            }\n            return data;\n        } catch (error) {\n            console.error(\"Error updating model:\", error);\n            throw error;\n        }\n    }\n    async upsertModels(models) {\n        try {\n            const { data, error } = await this.client.from(\"models\").upsert(models, {\n                onConflict: \"model_id\"\n            }).select();\n            if (error) {\n                throw new Error(`Failed to upsert models: ${error.message}`);\n            }\n            return data || [];\n        } catch (error) {\n            console.error(\"Error upserting models:\", error);\n            throw error;\n        }\n    }\n    async savePrompt(text) {\n        try {\n            const { data, error } = await this.client.from(\"prompts\").insert({\n                text\n            }).select().single();\n            if (error) {\n                throw new Error(`Failed to save prompt: ${error.message}`);\n            }\n            return data;\n        } catch (error) {\n            console.error(\"Error saving prompt:\", error);\n            throw error;\n        }\n    }\n    async saveResponses(responses) {\n        try {\n            const { data, error } = await this.client.from(\"responses\").insert(responses).select(`\n          *,\n          model:models(*)\n        `);\n            if (error) {\n                throw new Error(`Failed to save responses: ${error.message}`);\n            }\n            return data || [];\n        } catch (error) {\n            console.error(\"Error saving responses:\", error);\n            throw error;\n        }\n    }\n    async saveConsensusGroups(groups) {\n        try {\n            const { data, error } = await this.client.from(\"consensus_groups\").insert(groups).select();\n            if (error) {\n                throw new Error(`Failed to save consensus groups: ${error.message}`);\n            }\n            return data || [];\n        } catch (error) {\n            console.error(\"Error saving consensus groups:\", error);\n            throw error;\n        }\n    }\n    async getPromptHistory(limit = 50) {\n        try {\n            const { data, error } = await this.client.from(\"prompts\").select(\"*\").order(\"created_at\", {\n                ascending: false\n            }).limit(limit);\n            if (error) {\n                throw new Error(`Failed to fetch prompt history: ${error.message}`);\n            }\n            return data || [];\n        } catch (error) {\n            console.error(\"Error fetching prompt history:\", error);\n            throw error;\n        }\n    }\n    async getPromptWithResults(promptId) {\n        try {\n            const [promptResult, responsesResult, consensusResult] = await Promise.all([\n                this.client.from(\"prompts\").select(\"*\").eq(\"id\", promptId).single(),\n                this.client.from(\"responses\").select(`\n          *,\n          model:models(*)\n        `).eq(\"prompt_id\", promptId),\n                this.client.from(\"consensus_groups\").select(\"*\").eq(\"prompt_id\", promptId)\n            ]);\n            if (promptResult.error) {\n                throw new Error(`Failed to fetch prompt: ${promptResult.error.message}`);\n            }\n            return {\n                prompt: promptResult.data,\n                responses: responsesResult.data || [],\n                consensusGroups: consensusResult.data || []\n            };\n        } catch (error) {\n            console.error(\"Error fetching prompt with results:\", error);\n            throw error;\n        }\n    }\n    constructor(){\n        this.client = supabase;\n    }\n}\nconst supabaseClient = new SupabaseClient();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvc3VwYWJhc2UudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFvRDtBQUVwRCxNQUFNQyxjQUFjQywwQ0FBb0M7QUFDeEQsTUFBTUcsa0JBQWtCSCxrTkFBeUM7QUFFakUsSUFBSSxDQUFDRCxlQUFlLENBQUNJLGlCQUFpQjtJQUNwQyxNQUFNLElBQUlFLE1BQU07QUFDbEI7QUFFTyxNQUFNQyxXQUFXUixtRUFBWUEsQ0FBQ0MsYUFBYUksaUJBQWdCO0FBMENsRSwrQ0FBK0M7QUFDeEMsTUFBTUk7SUFHWCxNQUFNQyxZQUE4QjtRQUNsQyxJQUFJO1lBQ0YsTUFBTSxFQUFFQyxJQUFJLEVBQUVDLEtBQUssRUFBRSxHQUFHLE1BQU0sSUFBSSxDQUFDQyxNQUFNLENBQ3RDQyxJQUFJLENBQUMsVUFDTEMsTUFBTSxDQUFDLEtBQ1BDLEtBQUssQ0FBQyxZQUFZO2dCQUFFQyxXQUFXO1lBQUssR0FDcENELEtBQUssQ0FBQyxRQUFRO2dCQUFFQyxXQUFXO1lBQUs7WUFFbkMsSUFBSUwsT0FBTztnQkFDVCxNQUFNLElBQUlMLE1BQU0sQ0FBQyx3QkFBd0IsRUFBRUssTUFBTU0sT0FBTyxDQUFDLENBQUM7WUFDNUQ7WUFFQSxPQUFPUCxRQUFRLEVBQUU7UUFDbkIsRUFBRSxPQUFPQyxPQUFPO1lBQ2RPLFFBQVFQLEtBQUssQ0FBQywwQkFBMEJBO1lBQ3hDLE1BQU1BO1FBQ1I7SUFDRjtJQUVBLE1BQU1RLG1CQUFtQkMsRUFBVSxFQUFFQyxPQUFnQixFQUFrQjtRQUNyRSxJQUFJO1lBQ0YsTUFBTSxFQUFFWCxJQUFJLEVBQUVDLEtBQUssRUFBRSxHQUFHLE1BQU0sSUFBSSxDQUFDQyxNQUFNLENBQ3RDQyxJQUFJLENBQUMsVUFDTFMsTUFBTSxDQUFDO2dCQUFFRDtnQkFBU0UsWUFBWSxJQUFJQyxPQUFPQyxXQUFXO1lBQUcsR0FDdkRDLEVBQUUsQ0FBQyxNQUFNTixJQUNUTixNQUFNLEdBQ05hLE1BQU07WUFFVCxJQUFJaEIsT0FBTztnQkFDVCxNQUFNLElBQUlMLE1BQU0sQ0FBQyx3QkFBd0IsRUFBRUssTUFBTU0sT0FBTyxDQUFDLENBQUM7WUFDNUQ7WUFFQSxPQUFPUDtRQUNULEVBQUUsT0FBT0MsT0FBTztZQUNkTyxRQUFRUCxLQUFLLENBQUMseUJBQXlCQTtZQUN2QyxNQUFNQTtRQUNSO0lBQ0Y7SUFFQSxNQUFNaUIsYUFBYUMsTUFBeUQsRUFBb0I7UUFDOUYsSUFBSTtZQUNGLE1BQU0sRUFBRW5CLElBQUksRUFBRUMsS0FBSyxFQUFFLEdBQUcsTUFBTSxJQUFJLENBQUNDLE1BQU0sQ0FDdENDLElBQUksQ0FBQyxVQUNMaUIsTUFBTSxDQUFDRCxRQUFRO2dCQUFFRSxZQUFZO1lBQVcsR0FDeENqQixNQUFNO1lBRVQsSUFBSUgsT0FBTztnQkFDVCxNQUFNLElBQUlMLE1BQU0sQ0FBQyx5QkFBeUIsRUFBRUssTUFBTU0sT0FBTyxDQUFDLENBQUM7WUFDN0Q7WUFFQSxPQUFPUCxRQUFRLEVBQUU7UUFDbkIsRUFBRSxPQUFPQyxPQUFPO1lBQ2RPLFFBQVFQLEtBQUssQ0FBQywyQkFBMkJBO1lBQ3pDLE1BQU1BO1FBQ1I7SUFDRjtJQUVBLE1BQU1xQixXQUFXQyxJQUFZLEVBQW1CO1FBQzlDLElBQUk7WUFDRixNQUFNLEVBQUV2QixJQUFJLEVBQUVDLEtBQUssRUFBRSxHQUFHLE1BQU0sSUFBSSxDQUFDQyxNQUFNLENBQ3RDQyxJQUFJLENBQUMsV0FDTHFCLE1BQU0sQ0FBQztnQkFBRUQ7WUFBSyxHQUNkbkIsTUFBTSxHQUNOYSxNQUFNO1lBRVQsSUFBSWhCLE9BQU87Z0JBQ1QsTUFBTSxJQUFJTCxNQUFNLENBQUMsdUJBQXVCLEVBQUVLLE1BQU1NLE9BQU8sQ0FBQyxDQUFDO1lBQzNEO1lBRUEsT0FBT1A7UUFDVCxFQUFFLE9BQU9DLE9BQU87WUFDZE8sUUFBUVAsS0FBSyxDQUFDLHdCQUF3QkE7WUFDdEMsTUFBTUE7UUFDUjtJQUNGO0lBRUEsTUFBTXdCLGNBQWNDLFNBQWdELEVBQXVCO1FBQ3pGLElBQUk7WUFDRixNQUFNLEVBQUUxQixJQUFJLEVBQUVDLEtBQUssRUFBRSxHQUFHLE1BQU0sSUFBSSxDQUFDQyxNQUFNLENBQ3RDQyxJQUFJLENBQUMsYUFDTHFCLE1BQU0sQ0FBQ0UsV0FDUHRCLE1BQU0sQ0FBQyxDQUFDOzs7UUFHVCxDQUFDO1lBRUgsSUFBSUgsT0FBTztnQkFDVCxNQUFNLElBQUlMLE1BQU0sQ0FBQywwQkFBMEIsRUFBRUssTUFBTU0sT0FBTyxDQUFDLENBQUM7WUFDOUQ7WUFFQSxPQUFPUCxRQUFRLEVBQUU7UUFDbkIsRUFBRSxPQUFPQyxPQUFPO1lBQ2RPLFFBQVFQLEtBQUssQ0FBQywyQkFBMkJBO1lBQ3pDLE1BQU1BO1FBQ1I7SUFDRjtJQUVBLE1BQU0wQixvQkFBb0JDLE1BQW1ELEVBQTZCO1FBQ3hHLElBQUk7WUFDRixNQUFNLEVBQUU1QixJQUFJLEVBQUVDLEtBQUssRUFBRSxHQUFHLE1BQU0sSUFBSSxDQUFDQyxNQUFNLENBQ3RDQyxJQUFJLENBQUMsb0JBQ0xxQixNQUFNLENBQUNJLFFBQ1B4QixNQUFNO1lBRVQsSUFBSUgsT0FBTztnQkFDVCxNQUFNLElBQUlMLE1BQU0sQ0FBQyxpQ0FBaUMsRUFBRUssTUFBTU0sT0FBTyxDQUFDLENBQUM7WUFDckU7WUFFQSxPQUFPUCxRQUFRLEVBQUU7UUFDbkIsRUFBRSxPQUFPQyxPQUFPO1lBQ2RPLFFBQVFQLEtBQUssQ0FBQyxrQ0FBa0NBO1lBQ2hELE1BQU1BO1FBQ1I7SUFDRjtJQUVBLE1BQU00QixpQkFBaUJDLFFBQVEsRUFBRSxFQUFxQjtRQUNwRCxJQUFJO1lBQ0YsTUFBTSxFQUFFOUIsSUFBSSxFQUFFQyxLQUFLLEVBQUUsR0FBRyxNQUFNLElBQUksQ0FBQ0MsTUFBTSxDQUN0Q0MsSUFBSSxDQUFDLFdBQ0xDLE1BQU0sQ0FBQyxLQUNQQyxLQUFLLENBQUMsY0FBYztnQkFBRUMsV0FBVztZQUFNLEdBQ3ZDd0IsS0FBSyxDQUFDQTtZQUVULElBQUk3QixPQUFPO2dCQUNULE1BQU0sSUFBSUwsTUFBTSxDQUFDLGdDQUFnQyxFQUFFSyxNQUFNTSxPQUFPLENBQUMsQ0FBQztZQUNwRTtZQUVBLE9BQU9QLFFBQVEsRUFBRTtRQUNuQixFQUFFLE9BQU9DLE9BQU87WUFDZE8sUUFBUVAsS0FBSyxDQUFDLGtDQUFrQ0E7WUFDaEQsTUFBTUE7UUFDUjtJQUNGO0lBRUEsTUFBTThCLHFCQUFxQkMsUUFBZ0IsRUFJakM7UUFDUixJQUFJO1lBQ0YsTUFBTSxDQUFDQyxjQUFjQyxpQkFBaUJDLGdCQUFnQixHQUFHLE1BQU1DLFFBQVFDLEdBQUcsQ0FBQztnQkFDekUsSUFBSSxDQUFDbkMsTUFBTSxDQUFDQyxJQUFJLENBQUMsV0FBV0MsTUFBTSxDQUFDLEtBQUtZLEVBQUUsQ0FBQyxNQUFNZ0IsVUFBVWYsTUFBTTtnQkFDakUsSUFBSSxDQUFDZixNQUFNLENBQUNDLElBQUksQ0FBQyxhQUFhQyxNQUFNLENBQUMsQ0FBQzs7O1FBR3RDLENBQUMsRUFBRVksRUFBRSxDQUFDLGFBQWFnQjtnQkFDbkIsSUFBSSxDQUFDOUIsTUFBTSxDQUFDQyxJQUFJLENBQUMsb0JBQW9CQyxNQUFNLENBQUMsS0FBS1ksRUFBRSxDQUFDLGFBQWFnQjthQUNsRTtZQUVELElBQUlDLGFBQWFoQyxLQUFLLEVBQUU7Z0JBQ3RCLE1BQU0sSUFBSUwsTUFBTSxDQUFDLHdCQUF3QixFQUFFcUMsYUFBYWhDLEtBQUssQ0FBQ00sT0FBTyxDQUFDLENBQUM7WUFDekU7WUFFQSxPQUFPO2dCQUNMK0IsUUFBUUwsYUFBYWpDLElBQUk7Z0JBQ3pCMEIsV0FBV1EsZ0JBQWdCbEMsSUFBSSxJQUFJLEVBQUU7Z0JBQ3JDdUMsaUJBQWlCSixnQkFBZ0JuQyxJQUFJLElBQUksRUFBRTtZQUM3QztRQUNGLEVBQUUsT0FBT0MsT0FBTztZQUNkTyxRQUFRUCxLQUFLLENBQUMsdUNBQXVDQTtZQUNyRCxNQUFNQTtRQUNSO0lBQ0Y7O2FBcEtRQyxTQUFTTDs7QUFxS25CO0FBRU8sTUFBTTJDLGlCQUFpQixJQUFJMUMsaUJBQWdCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGxtLWNvbnNlbnN1cy1iZW5jaG1hcmstbmV4dGpzLy4vbGliL3N1cGFiYXNlLnRzP2M5OWYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL3N1cGFiYXNlLWpzJ1xuXG5jb25zdCBzdXBhYmFzZVVybCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCFcbmNvbnN0IHN1cGFiYXNlQW5vbktleSA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZIVxuXG5pZiAoIXN1cGFiYXNlVXJsIHx8ICFzdXBhYmFzZUFub25LZXkpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIFN1cGFiYXNlIGVudmlyb25tZW50IHZhcmlhYmxlcycpXG59XG5cbmV4cG9ydCBjb25zdCBzdXBhYmFzZSA9IGNyZWF0ZUNsaWVudChzdXBhYmFzZVVybCwgc3VwYWJhc2VBbm9uS2V5KVxuXG4vLyBEYXRhYmFzZSB0eXBlc1xuZXhwb3J0IGludGVyZmFjZSBNb2RlbCB7XG4gIGlkOiBzdHJpbmdcbiAgbmFtZTogc3RyaW5nXG4gIHByb3ZpZGVyOiBzdHJpbmdcbiAgbW9kZWxfaWQ6IHN0cmluZ1xuICBlbmFibGVkOiBib29sZWFuXG4gIGNvbnRleHRfbGVuZ3RoOiBudW1iZXJcbiAgY3JlYXRlZF9hdD86IHN0cmluZ1xuICB1cGRhdGVkX2F0Pzogc3RyaW5nXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUHJvbXB0IHtcbiAgaWQ6IHN0cmluZ1xuICB0ZXh0OiBzdHJpbmdcbiAgY3JlYXRlZF9hdDogc3RyaW5nXG4gIHVwZGF0ZWRfYXQ/OiBzdHJpbmdcbn1cblxuZXhwb3J0IGludGVyZmFjZSBSZXNwb25zZSB7XG4gIGlkOiBzdHJpbmdcbiAgcHJvbXB0X2lkOiBzdHJpbmdcbiAgbW9kZWxfaWQ6IHN0cmluZ1xuICByZXNwb25zZV90ZXh0OiBzdHJpbmdcbiAgcmVzcG9uc2VfdGltZV9tczogbnVtYmVyXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZ1xuICBtb2RlbD86IE1vZGVsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29uc2Vuc3VzR3JvdXAge1xuICBpZDogc3RyaW5nXG4gIHByb21wdF9pZDogc3RyaW5nXG4gIGdyb3VwX25hbWU6IHN0cmluZ1xuICBjb3VudDogbnVtYmVyXG4gIHBlcmNlbnRhZ2U6IG51bWJlclxuICBjb2xvcjogc3RyaW5nXG4gIG1vZGVscz86IHN0cmluZ1tdICAvLyBPcHRpb25hbCBzaW5jZSBkYXRhYmFzZSBkb2Vzbid0IGhhdmUgdGhpcyBjb2x1bW4geWV0XG4gIGNyZWF0ZWRfYXQ6IHN0cmluZ1xufVxuXG4vLyBTdXBhYmFzZSBjbGllbnQgd2l0aCBlbmhhbmNlZCBlcnJvciBoYW5kbGluZ1xuZXhwb3J0IGNsYXNzIFN1cGFiYXNlQ2xpZW50IHtcbiAgcHJpdmF0ZSBjbGllbnQgPSBzdXBhYmFzZVxuXG4gIGFzeW5jIGdldE1vZGVscygpOiBQcm9taXNlPE1vZGVsW10+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgdGhpcy5jbGllbnRcbiAgICAgICAgLmZyb20oJ21vZGVscycpXG4gICAgICAgIC5zZWxlY3QoJyonKVxuICAgICAgICAub3JkZXIoJ3Byb3ZpZGVyJywgeyBhc2NlbmRpbmc6IHRydWUgfSlcbiAgICAgICAgLm9yZGVyKCduYW1lJywgeyBhc2NlbmRpbmc6IHRydWUgfSlcblxuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGZldGNoIG1vZGVsczogJHtlcnJvci5tZXNzYWdlfWApXG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkYXRhIHx8IFtdXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIG1vZGVsczonLCBlcnJvcilcbiAgICAgIHRocm93IGVycm9yXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgdXBkYXRlTW9kZWxFbmFibGVkKGlkOiBzdHJpbmcsIGVuYWJsZWQ6IGJvb2xlYW4pOiBQcm9taXNlPE1vZGVsPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHRoaXMuY2xpZW50XG4gICAgICAgIC5mcm9tKCdtb2RlbHMnKVxuICAgICAgICAudXBkYXRlKHsgZW5hYmxlZCwgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpIH0pXG4gICAgICAgIC5lcSgnaWQnLCBpZClcbiAgICAgICAgLnNlbGVjdCgpXG4gICAgICAgIC5zaW5nbGUoKVxuXG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gdXBkYXRlIG1vZGVsOiAke2Vycm9yLm1lc3NhZ2V9YClcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRhdGFcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgbW9kZWw6JywgZXJyb3IpXG4gICAgICB0aHJvdyBlcnJvclxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHVwc2VydE1vZGVscyhtb2RlbHM6IE9taXQ8TW9kZWwsICdpZCcgfCAnY3JlYXRlZF9hdCcgfCAndXBkYXRlZF9hdCc+W10pOiBQcm9taXNlPE1vZGVsW10+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgdGhpcy5jbGllbnRcbiAgICAgICAgLmZyb20oJ21vZGVscycpXG4gICAgICAgIC51cHNlcnQobW9kZWxzLCB7IG9uQ29uZmxpY3Q6ICdtb2RlbF9pZCcgfSlcbiAgICAgICAgLnNlbGVjdCgpXG5cbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byB1cHNlcnQgbW9kZWxzOiAke2Vycm9yLm1lc3NhZ2V9YClcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRhdGEgfHwgW11cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBzZXJ0aW5nIG1vZGVsczonLCBlcnJvcilcbiAgICAgIHRocm93IGVycm9yXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgc2F2ZVByb21wdCh0ZXh0OiBzdHJpbmcpOiBQcm9taXNlPFByb21wdD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCB0aGlzLmNsaWVudFxuICAgICAgICAuZnJvbSgncHJvbXB0cycpXG4gICAgICAgIC5pbnNlcnQoeyB0ZXh0IH0pXG4gICAgICAgIC5zZWxlY3QoKVxuICAgICAgICAuc2luZ2xlKClcblxuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIHNhdmUgcHJvbXB0OiAke2Vycm9yLm1lc3NhZ2V9YClcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRhdGFcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2F2aW5nIHByb21wdDonLCBlcnJvcilcbiAgICAgIHRocm93IGVycm9yXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgc2F2ZVJlc3BvbnNlcyhyZXNwb25zZXM6IE9taXQ8UmVzcG9uc2UsICdpZCcgfCAnY3JlYXRlZF9hdCc+W10pOiBQcm9taXNlPFJlc3BvbnNlW10+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgdGhpcy5jbGllbnRcbiAgICAgICAgLmZyb20oJ3Jlc3BvbnNlcycpXG4gICAgICAgIC5pbnNlcnQocmVzcG9uc2VzKVxuICAgICAgICAuc2VsZWN0KGBcbiAgICAgICAgICAqLFxuICAgICAgICAgIG1vZGVsOm1vZGVscygqKVxuICAgICAgICBgKVxuXG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gc2F2ZSByZXNwb25zZXM6ICR7ZXJyb3IubWVzc2FnZX1gKVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gZGF0YSB8fCBbXVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzYXZpbmcgcmVzcG9uc2VzOicsIGVycm9yKVxuICAgICAgdGhyb3cgZXJyb3JcbiAgICB9XG4gIH1cblxuICBhc3luYyBzYXZlQ29uc2Vuc3VzR3JvdXBzKGdyb3VwczogT21pdDxDb25zZW5zdXNHcm91cCwgJ2lkJyB8ICdjcmVhdGVkX2F0Jz5bXSk6IFByb21pc2U8Q29uc2Vuc3VzR3JvdXBbXT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCB0aGlzLmNsaWVudFxuICAgICAgICAuZnJvbSgnY29uc2Vuc3VzX2dyb3VwcycpXG4gICAgICAgIC5pbnNlcnQoZ3JvdXBzKVxuICAgICAgICAuc2VsZWN0KClcblxuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIHNhdmUgY29uc2Vuc3VzIGdyb3VwczogJHtlcnJvci5tZXNzYWdlfWApXG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkYXRhIHx8IFtdXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNhdmluZyBjb25zZW5zdXMgZ3JvdXBzOicsIGVycm9yKVxuICAgICAgdGhyb3cgZXJyb3JcbiAgICB9XG4gIH1cblxuICBhc3luYyBnZXRQcm9tcHRIaXN0b3J5KGxpbWl0ID0gNTApOiBQcm9taXNlPFByb21wdFtdPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHRoaXMuY2xpZW50XG4gICAgICAgIC5mcm9tKCdwcm9tcHRzJylcbiAgICAgICAgLnNlbGVjdCgnKicpXG4gICAgICAgIC5vcmRlcignY3JlYXRlZF9hdCcsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KVxuICAgICAgICAubGltaXQobGltaXQpXG5cbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBmZXRjaCBwcm9tcHQgaGlzdG9yeTogJHtlcnJvci5tZXNzYWdlfWApXG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkYXRhIHx8IFtdXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHByb21wdCBoaXN0b3J5OicsIGVycm9yKVxuICAgICAgdGhyb3cgZXJyb3JcbiAgICB9XG4gIH1cblxuICBhc3luYyBnZXRQcm9tcHRXaXRoUmVzdWx0cyhwcm9tcHRJZDogc3RyaW5nKTogUHJvbWlzZTx7XG4gICAgcHJvbXB0OiBQcm9tcHRcbiAgICByZXNwb25zZXM6IFJlc3BvbnNlW11cbiAgICBjb25zZW5zdXNHcm91cHM6IENvbnNlbnN1c0dyb3VwW11cbiAgfSB8IG51bGw+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgW3Byb21wdFJlc3VsdCwgcmVzcG9uc2VzUmVzdWx0LCBjb25zZW5zdXNSZXN1bHRdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgICB0aGlzLmNsaWVudC5mcm9tKCdwcm9tcHRzJykuc2VsZWN0KCcqJykuZXEoJ2lkJywgcHJvbXB0SWQpLnNpbmdsZSgpLFxuICAgICAgICB0aGlzLmNsaWVudC5mcm9tKCdyZXNwb25zZXMnKS5zZWxlY3QoYFxuICAgICAgICAgICosXG4gICAgICAgICAgbW9kZWw6bW9kZWxzKCopXG4gICAgICAgIGApLmVxKCdwcm9tcHRfaWQnLCBwcm9tcHRJZCksXG4gICAgICAgIHRoaXMuY2xpZW50LmZyb20oJ2NvbnNlbnN1c19ncm91cHMnKS5zZWxlY3QoJyonKS5lcSgncHJvbXB0X2lkJywgcHJvbXB0SWQpXG4gICAgICBdKVxuXG4gICAgICBpZiAocHJvbXB0UmVzdWx0LmVycm9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGZldGNoIHByb21wdDogJHtwcm9tcHRSZXN1bHQuZXJyb3IubWVzc2FnZX1gKVxuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBwcm9tcHQ6IHByb21wdFJlc3VsdC5kYXRhLFxuICAgICAgICByZXNwb25zZXM6IHJlc3BvbnNlc1Jlc3VsdC5kYXRhIHx8IFtdLFxuICAgICAgICBjb25zZW5zdXNHcm91cHM6IGNvbnNlbnN1c1Jlc3VsdC5kYXRhIHx8IFtdXG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHByb21wdCB3aXRoIHJlc3VsdHM6JywgZXJyb3IpXG4gICAgICB0aHJvdyBlcnJvclxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY29uc3Qgc3VwYWJhc2VDbGllbnQgPSBuZXcgU3VwYWJhc2VDbGllbnQoKSJdLCJuYW1lcyI6WyJjcmVhdGVDbGllbnQiLCJzdXBhYmFzZVVybCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwiLCJzdXBhYmFzZUFub25LZXkiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSIsIkVycm9yIiwic3VwYWJhc2UiLCJTdXBhYmFzZUNsaWVudCIsImdldE1vZGVscyIsImRhdGEiLCJlcnJvciIsImNsaWVudCIsImZyb20iLCJzZWxlY3QiLCJvcmRlciIsImFzY2VuZGluZyIsIm1lc3NhZ2UiLCJjb25zb2xlIiwidXBkYXRlTW9kZWxFbmFibGVkIiwiaWQiLCJlbmFibGVkIiwidXBkYXRlIiwidXBkYXRlZF9hdCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsImVxIiwic2luZ2xlIiwidXBzZXJ0TW9kZWxzIiwibW9kZWxzIiwidXBzZXJ0Iiwib25Db25mbGljdCIsInNhdmVQcm9tcHQiLCJ0ZXh0IiwiaW5zZXJ0Iiwic2F2ZVJlc3BvbnNlcyIsInJlc3BvbnNlcyIsInNhdmVDb25zZW5zdXNHcm91cHMiLCJncm91cHMiLCJnZXRQcm9tcHRIaXN0b3J5IiwibGltaXQiLCJnZXRQcm9tcHRXaXRoUmVzdWx0cyIsInByb21wdElkIiwicHJvbXB0UmVzdWx0IiwicmVzcG9uc2VzUmVzdWx0IiwiY29uc2Vuc3VzUmVzdWx0IiwiUHJvbWlzZSIsImFsbCIsInByb21wdCIsImNvbnNlbnN1c0dyb3VwcyIsInN1cGFiYXNlQ2xpZW50Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/supabase.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@supabase","vendor-chunks/zod","vendor-chunks/whatwg-url","vendor-chunks/tr46"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fmodels%2Froute&page=%2Fapi%2Fmodels%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmodels%2Froute.ts&appDir=%2FUsers%2Fbanik%2FDesktop%2FProjects2025%2FBMarkApp-NextJS%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fbanik%2FDesktop%2FProjects2025%2FBMarkApp-NextJS&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();