"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/models/route";
exports.ids = ["app/api/models/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fmodels%2Froute&page=%2Fapi%2Fmodels%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmodels%2Froute.ts&appDir=%2FUsers%2Fbanik%2FDesktop%2FProjects2025%2FBMarkApp-NextJS%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fbanik%2FDesktop%2FProjects2025%2FBMarkApp-NextJS&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fmodels%2Froute&page=%2Fapi%2Fmodels%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmodels%2Froute.ts&appDir=%2FUsers%2Fbanik%2FDesktop%2FProjects2025%2FBMarkApp-NextJS%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fbanik%2FDesktop%2FProjects2025%2FBMarkApp-NextJS&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_banik_Desktop_Projects2025_BMarkApp_NextJS_app_api_models_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/models/route.ts */ \"(rsc)/./app/api/models/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/models/route\",\n        pathname: \"/api/models\",\n        filename: \"route\",\n        bundlePath: \"app/api/models/route\"\n    },\n    resolvedPagePath: \"/Users/banik/Desktop/Projects2025/BMarkApp-NextJS/app/api/models/route.ts\",\n    nextConfigOutput,\n    userland: _Users_banik_Desktop_Projects2025_BMarkApp_NextJS_app_api_models_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/models/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZtb2RlbHMlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRm1vZGVscyUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRm1vZGVscyUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRmJhbmlrJTJGRGVza3RvcCUyRlByb2plY3RzMjAyNSUyRkJNYXJrQXBwLU5leHRKUyUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGVXNlcnMlMkZiYW5payUyRkRlc2t0b3AlMkZQcm9qZWN0czIwMjUlMkZCTWFya0FwcC1OZXh0SlMmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ3lCO0FBQ3RHO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGxtLWNvbnNlbnN1cy1iZW5jaG1hcmstbmV4dGpzLz9hYzJhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi9Vc2Vycy9iYW5pay9EZXNrdG9wL1Byb2plY3RzMjAyNS9CTWFya0FwcC1OZXh0SlMvYXBwL2FwaS9tb2RlbHMvcm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL21vZGVscy9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL21vZGVsc1wiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvbW9kZWxzL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiL1VzZXJzL2JhbmlrL0Rlc2t0b3AvUHJvamVjdHMyMDI1L0JNYXJrQXBwLU5leHRKUy9hcHAvYXBpL21vZGVscy9yb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvbW9kZWxzL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fmodels%2Froute&page=%2Fapi%2Fmodels%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmodels%2Froute.ts&appDir=%2FUsers%2Fbanik%2FDesktop%2FProjects2025%2FBMarkApp-NextJS%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fbanik%2FDesktop%2FProjects2025%2FBMarkApp-NextJS&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/models/route.ts":
/*!*********************************!*\
  !*** ./app/api/models/route.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   PUT: () => (/* binding */ PUT)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/v3/types.js\");\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/v3/ZodError.js\");\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/supabase */ \"(rsc)/./lib/supabase.ts\");\n/* harmony import */ var _lib_openrouter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/openrouter */ \"(rsc)/./lib/openrouter.ts\");\n\n\n\n\n// Validation schemas\nconst UpdateModelSchema = zod__WEBPACK_IMPORTED_MODULE_3__.object({\n    id: zod__WEBPACK_IMPORTED_MODULE_3__.string().uuid(),\n    enabled: zod__WEBPACK_IMPORTED_MODULE_3__.boolean()\n});\nconst ModelSchema = zod__WEBPACK_IMPORTED_MODULE_3__.object({\n    name: zod__WEBPACK_IMPORTED_MODULE_3__.string(),\n    provider: zod__WEBPACK_IMPORTED_MODULE_3__.string(),\n    model_id: zod__WEBPACK_IMPORTED_MODULE_3__.string(),\n    enabled: zod__WEBPACK_IMPORTED_MODULE_3__.boolean(),\n    context_length: zod__WEBPACK_IMPORTED_MODULE_3__.number()\n});\n// GET: Fetch all models\nasync function GET() {\n    try {\n        const models = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabaseClient.getModels();\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            models\n        }, {\n            status: 200\n        });\n    } catch (error) {\n        console.error(\"Error fetching models:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: error instanceof Error ? error.message : \"Failed to fetch models\"\n        }, {\n            status: 500\n        });\n    }\n}\n// POST: Sync models from OpenRouter\nasync function POST() {\n    try {\n        const openRouterApiKey = process.env.OPENROUTER_API_KEY;\n        if (!openRouterApiKey) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"OpenRouter API key is not configured.\"\n            }, {\n                status: 500\n            });\n        }\n        // Initialize OpenRouter client\n        const openRouter = new _lib_openrouter__WEBPACK_IMPORTED_MODULE_2__[\"default\"](openRouterApiKey);\n        // Fetch models from OpenRouter\n        const openRouterResponse = await openRouter.getModels();\n        if (!openRouterResponse?.data) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Failed to fetch models from OpenRouter.\"\n            }, {\n                status: 500\n            });\n        }\n        // Filter models for benchmarking\n        const filteredModels = _lib_openrouter__WEBPACK_IMPORTED_MODULE_2__[\"default\"].filterModelsForBenchmark(openRouterResponse.data);\n        // Limit models per provider (up to 5 each)\n        const providerModels = {};\n        filteredModels.forEach((model)=>{\n            const [provider] = model.id.split(\"/\");\n            if (!providerModels[provider]) {\n                providerModels[provider] = [];\n            }\n            if (providerModels[provider].length < 5) {\n                providerModels[provider].push(model);\n            }\n        });\n        // Flatten the provider models\n        const selectedModels = Object.values(providerModels).flat();\n        // Process models for our database\n        const models = selectedModels.map((model)=>{\n            // Extract provider from model ID\n            const [provider, modelName] = model.id.split(\"/\");\n            const formattedProvider = provider.charAt(0).toUpperCase() + provider.slice(1);\n            // Format model name\n            const formattedName = modelName.split(\"-\").map((part)=>{\n                if (/^\\d+$/.test(part)) {\n                    return part;\n                }\n                return part.charAt(0).toUpperCase() + part.slice(1);\n            }).join(\" \");\n            return {\n                name: formattedName,\n                provider: formattedProvider,\n                model_id: model.id,\n                enabled: true,\n                context_length: model.context_length || 4096\n            };\n        });\n        // Add recommended models if they're not already included\n        const recommendedModels = [\n            {\n                id: \"openai/gpt-4o\",\n                name: \"GPT-4o\",\n                provider: \"OpenAI\",\n                context_length: 128000\n            },\n            {\n                id: \"anthropic/claude-3-5-sonnet\",\n                name: \"Claude 3.5 Sonnet\",\n                provider: \"Anthropic\",\n                context_length: 200000\n            },\n            {\n                id: \"google/gemini-pro-1.5\",\n                name: \"Gemini Pro 1.5\",\n                provider: \"Google\",\n                context_length: 2000000\n            },\n            {\n                id: \"meta-llama/llama-3.1-70b-instruct\",\n                name: \"Llama 3.1 70B\",\n                provider: \"Meta\",\n                context_length: 131072\n            },\n            {\n                id: \"mistralai/mistral-large\",\n                name: \"Mistral Large\",\n                provider: \"Mistral AI\",\n                context_length: 128000\n            },\n            {\n                id: \"cohere/command-r-plus\",\n                name: \"Command R+\",\n                provider: \"Cohere\",\n                context_length: 128000\n            }\n        ];\n        recommendedModels.forEach((recModel)=>{\n            if (!models.some((m)=>m.model_id === recModel.id)) {\n                models.push({\n                    name: recModel.name,\n                    provider: recModel.provider,\n                    model_id: recModel.id,\n                    enabled: true,\n                    context_length: recModel.context_length\n                });\n            }\n        });\n        // Validate models\n        const validatedModels = models.map((model)=>ModelSchema.parse(model));\n        // Get existing models to preserve enabled status\n        const existingModels = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabaseClient.getModels();\n        const existingModelMap = new Map(existingModels.map((m)=>[\n                m.model_id,\n                m.enabled\n            ]));\n        // Preserve enabled status for existing models\n        const modelsToUpsert = validatedModels.map((model)=>({\n                ...model,\n                enabled: existingModelMap.has(model.model_id) ? existingModelMap.get(model.model_id) : true\n            }));\n        // Upsert models\n        const savedModels = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabaseClient.upsertModels(modelsToUpsert);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            message: `Successfully synced ${savedModels.length} models.`,\n            models: savedModels\n        }, {\n            status: 200\n        });\n    } catch (error) {\n        console.error(\"Error syncing models:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: error instanceof Error ? error.message : \"Failed to sync models\"\n        }, {\n            status: 500\n        });\n    }\n}\n// PUT: Update model enabled status\nasync function PUT(request) {\n    try {\n        const body = await request.json();\n        // Validate request body\n        const { id, enabled } = UpdateModelSchema.parse(body);\n        // Update model in database\n        const updatedModel = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabaseClient.updateModelEnabled(id, enabled);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            model: updatedModel\n        }, {\n            status: 200\n        });\n    } catch (error) {\n        console.error(\"Error updating model:\", error);\n        if (error instanceof zod__WEBPACK_IMPORTED_MODULE_4__.ZodError) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Invalid request data\",\n                details: error.errors\n            }, {\n                status: 400\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: error instanceof Error ? error.message : \"Failed to update model\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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UUFBUW5ELElBQUk7UUFFL0Isd0JBQXdCO1FBQ3hCLE1BQU0sRUFBRWQsRUFBRSxFQUFFRyxPQUFPLEVBQUUsR0FBR0wsa0JBQWtCeUQsS0FBSyxDQUFDVztRQUVoRCwyQkFBMkI7UUFDM0IsTUFBTUMsZUFBZSxNQUFNdkUseURBQWNBLENBQUN3RSxrQkFBa0IsQ0FBQ3BFLElBQUlHO1FBRWpFLE9BQU9ULHFEQUFZQSxDQUFDb0IsSUFBSSxDQUFDO1lBQUVrQixPQUFPbUM7UUFBYSxHQUFHO1lBQUVwRCxRQUFRO1FBQUk7SUFDbEUsRUFBRSxPQUFPQyxPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyx5QkFBeUJBO1FBRXZDLElBQUlBLGlCQUFpQnJCLHlDQUFVLEVBQUU7WUFDL0IsT0FBT0QscURBQVlBLENBQUNvQixJQUFJLENBQ3RCO2dCQUFFRSxPQUFPO2dCQUF3QnNELFNBQVN0RCxNQUFNdUQsTUFBTTtZQUFDLEdBQ3ZEO2dCQUFFeEQsUUFBUTtZQUFJO1FBRWxCO1FBRUEsT0FBT3JCLHFEQUFZQSxDQUFDb0IsSUFBSSxDQUN0QjtZQUFFRSxPQUFPQSxpQkFBaUJFLFFBQVFGLE1BQU1HLE9BQU8sR0FBRztRQUF5QixHQUMzRTtZQUFFSixRQUFRO1FBQUk7SUFFbEI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2xsbS1jb25zZW5zdXMtYmVuY2htYXJrLW5leHRqcy8uL2FwcC9hcGkvbW9kZWxzL3JvdXRlLnRzPzAzNjciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJ1xuaW1wb3J0IHsgeiB9IGZyb20gJ3pvZCdcbmltcG9ydCB7IHN1cGFiYXNlQ2xpZW50IH0gZnJvbSAnQC9saWIvc3VwYWJhc2UnXG5pbXBvcnQgT3BlblJvdXRlckNsaWVudCBmcm9tICdAL2xpYi9vcGVucm91dGVyJ1xuXG4vLyBWYWxpZGF0aW9uIHNjaGVtYXNcbmNvbnN0IFVwZGF0ZU1vZGVsU2NoZW1hID0gei5vYmplY3Qoe1xuICBpZDogei5zdHJpbmcoKS51dWlkKCksXG4gIGVuYWJsZWQ6IHouYm9vbGVhbigpLFxufSlcblxuY29uc3QgTW9kZWxTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIG5hbWU6IHouc3RyaW5nKCksXG4gIHByb3ZpZGVyOiB6LnN0cmluZygpLFxuICBtb2RlbF9pZDogei5zdHJpbmcoKSxcbiAgZW5hYmxlZDogei5ib29sZWFuKCksXG4gIGNvbnRleHRfbGVuZ3RoOiB6Lm51bWJlcigpLFxufSlcblxuLy8gR0VUOiBGZXRjaCBhbGwgbW9kZWxzXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKCkge1xuICB0cnkge1xuICAgIGNvbnN0IG1vZGVscyA9IGF3YWl0IHN1cGFiYXNlQ2xpZW50LmdldE1vZGVscygpXG4gICAgXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgbW9kZWxzIH0sIHsgc3RhdHVzOiAyMDAgfSlcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBtb2RlbHM6JywgZXJyb3IpXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnRmFpbGVkIHRvIGZldGNoIG1vZGVscycgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgIClcbiAgfVxufVxuXG4vLyBQT1NUOiBTeW5jIG1vZGVscyBmcm9tIE9wZW5Sb3V0ZXJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKCkge1xuICB0cnkge1xuICAgIGNvbnN0IG9wZW5Sb3V0ZXJBcGlLZXkgPSBwcm9jZXNzLmVudi5PUEVOUk9VVEVSX0FQSV9LRVlcbiAgICBpZiAoIW9wZW5Sb3V0ZXJBcGlLZXkpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogJ09wZW5Sb3V0ZXIgQVBJIGtleSBpcyBub3QgY29uZmlndXJlZC4nIH0sXG4gICAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICAgKVxuICAgIH1cblxuICAgIC8vIEluaXRpYWxpemUgT3BlblJvdXRlciBjbGllbnRcbiAgICBjb25zdCBvcGVuUm91dGVyID0gbmV3IE9wZW5Sb3V0ZXJDbGllbnQob3BlblJvdXRlckFwaUtleSlcbiAgICBcbiAgICAvLyBGZXRjaCBtb2RlbHMgZnJvbSBPcGVuUm91dGVyXG4gICAgY29uc3Qgb3BlblJvdXRlclJlc3BvbnNlID0gYXdhaXQgb3BlblJvdXRlci5nZXRNb2RlbHMoKVxuICAgIFxuICAgIGlmICghb3BlblJvdXRlclJlc3BvbnNlPy5kYXRhKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICdGYWlsZWQgdG8gZmV0Y2ggbW9kZWxzIGZyb20gT3BlblJvdXRlci4nIH0sXG4gICAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICAgKVxuICAgIH1cblxuICAgIC8vIEZpbHRlciBtb2RlbHMgZm9yIGJlbmNobWFya2luZ1xuICAgIGNvbnN0IGZpbHRlcmVkTW9kZWxzID0gT3BlblJvdXRlckNsaWVudC5maWx0ZXJNb2RlbHNGb3JCZW5jaG1hcmsob3BlblJvdXRlclJlc3BvbnNlLmRhdGEpXG4gICAgXG4gICAgLy8gTGltaXQgbW9kZWxzIHBlciBwcm92aWRlciAodXAgdG8gNSBlYWNoKVxuICAgIGNvbnN0IHByb3ZpZGVyTW9kZWxzOiBSZWNvcmQ8c3RyaW5nLCBhbnlbXT4gPSB7fVxuICAgIGZpbHRlcmVkTW9kZWxzLmZvckVhY2gobW9kZWwgPT4ge1xuICAgICAgY29uc3QgW3Byb3ZpZGVyXSA9IG1vZGVsLmlkLnNwbGl0KCcvJylcbiAgICAgIGlmICghcHJvdmlkZXJNb2RlbHNbcHJvdmlkZXJdKSB7XG4gICAgICAgIHByb3ZpZGVyTW9kZWxzW3Byb3ZpZGVyXSA9IFtdXG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmIChwcm92aWRlck1vZGVsc1twcm92aWRlcl0ubGVuZ3RoIDwgNSkge1xuICAgICAgICBwcm92aWRlck1vZGVsc1twcm92aWRlcl0ucHVzaChtb2RlbClcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgLy8gRmxhdHRlbiB0aGUgcHJvdmlkZXIgbW9kZWxzXG4gICAgY29uc3Qgc2VsZWN0ZWRNb2RlbHMgPSBPYmplY3QudmFsdWVzKHByb3ZpZGVyTW9kZWxzKS5mbGF0KClcbiAgICBcbiAgICAvLyBQcm9jZXNzIG1vZGVscyBmb3Igb3VyIGRhdGFiYXNlXG4gICAgY29uc3QgbW9kZWxzID0gc2VsZWN0ZWRNb2RlbHMubWFwKG1vZGVsID0+IHtcbiAgICAgIC8vIEV4dHJhY3QgcHJvdmlkZXIgZnJvbSBtb2RlbCBJRFxuICAgICAgY29uc3QgW3Byb3ZpZGVyLCBtb2RlbE5hbWVdID0gbW9kZWwuaWQuc3BsaXQoJy8nKVxuICAgICAgY29uc3QgZm9ybWF0dGVkUHJvdmlkZXIgPSBwcm92aWRlci5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHByb3ZpZGVyLnNsaWNlKDEpXG4gICAgICBcbiAgICAgIC8vIEZvcm1hdCBtb2RlbCBuYW1lXG4gICAgICBjb25zdCBmb3JtYXR0ZWROYW1lID0gbW9kZWxOYW1lXG4gICAgICAgIC5zcGxpdCgnLScpXG4gICAgICAgIC5tYXAoKHBhcnQ6IHN0cmluZykgPT4ge1xuICAgICAgICAgIGlmICgvXlxcZCskLy50ZXN0KHBhcnQpKSB7XG4gICAgICAgICAgICByZXR1cm4gcGFydFxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcGFydC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHBhcnQuc2xpY2UoMSlcbiAgICAgICAgfSlcbiAgICAgICAgLmpvaW4oJyAnKVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBuYW1lOiBmb3JtYXR0ZWROYW1lLFxuICAgICAgICBwcm92aWRlcjogZm9ybWF0dGVkUHJvdmlkZXIsXG4gICAgICAgIG1vZGVsX2lkOiBtb2RlbC5pZCxcbiAgICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgY29udGV4dF9sZW5ndGg6IG1vZGVsLmNvbnRleHRfbGVuZ3RoIHx8IDQwOTZcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgLy8gQWRkIHJlY29tbWVuZGVkIG1vZGVscyBpZiB0aGV5J3JlIG5vdCBhbHJlYWR5IGluY2x1ZGVkXG4gICAgY29uc3QgcmVjb21tZW5kZWRNb2RlbHMgPSBbXG4gICAgICB7IGlkOiAnb3BlbmFpL2dwdC00bycsIG5hbWU6ICdHUFQtNG8nLCBwcm92aWRlcjogJ09wZW5BSScsIGNvbnRleHRfbGVuZ3RoOiAxMjgwMDAgfSxcbiAgICAgIHsgaWQ6ICdhbnRocm9waWMvY2xhdWRlLTMtNS1zb25uZXQnLCBuYW1lOiAnQ2xhdWRlIDMuNSBTb25uZXQnLCBwcm92aWRlcjogJ0FudGhyb3BpYycsIGNvbnRleHRfbGVuZ3RoOiAyMDAwMDAgfSxcbiAgICAgIHsgaWQ6ICdnb29nbGUvZ2VtaW5pLXByby0xLjUnLCBuYW1lOiAnR2VtaW5pIFBybyAxLjUnLCBwcm92aWRlcjogJ0dvb2dsZScsIGNvbnRleHRfbGVuZ3RoOiAyMDAwMDAwIH0sXG4gICAgICB7IGlkOiAnbWV0YS1sbGFtYS9sbGFtYS0zLjEtNzBiLWluc3RydWN0JywgbmFtZTogJ0xsYW1hIDMuMSA3MEInLCBwcm92aWRlcjogJ01ldGEnLCBjb250ZXh0X2xlbmd0aDogMTMxMDcyIH0sXG4gICAgICB7IGlkOiAnbWlzdHJhbGFpL21pc3RyYWwtbGFyZ2UnLCBuYW1lOiAnTWlzdHJhbCBMYXJnZScsIHByb3ZpZGVyOiAnTWlzdHJhbCBBSScsIGNvbnRleHRfbGVuZ3RoOiAxMjgwMDAgfSxcbiAgICAgIHsgaWQ6ICdjb2hlcmUvY29tbWFuZC1yLXBsdXMnLCBuYW1lOiAnQ29tbWFuZCBSKycsIHByb3ZpZGVyOiAnQ29oZXJlJywgY29udGV4dF9sZW5ndGg6IDEyODAwMCB9XG4gICAgXVxuXG4gICAgcmVjb21tZW5kZWRNb2RlbHMuZm9yRWFjaChyZWNNb2RlbCA9PiB7XG4gICAgICBpZiAoIW1vZGVscy5zb21lKG0gPT4gbS5tb2RlbF9pZCA9PT0gcmVjTW9kZWwuaWQpKSB7XG4gICAgICAgIG1vZGVscy5wdXNoKHtcbiAgICAgICAgICBuYW1lOiByZWNNb2RlbC5uYW1lLFxuICAgICAgICAgIHByb3ZpZGVyOiByZWNNb2RlbC5wcm92aWRlcixcbiAgICAgICAgICBtb2RlbF9pZDogcmVjTW9kZWwuaWQsXG4gICAgICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgICBjb250ZXh0X2xlbmd0aDogcmVjTW9kZWwuY29udGV4dF9sZW5ndGhcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgLy8gVmFsaWRhdGUgbW9kZWxzXG4gICAgY29uc3QgdmFsaWRhdGVkTW9kZWxzID0gbW9kZWxzLm1hcChtb2RlbCA9PiBNb2RlbFNjaGVtYS5wYXJzZShtb2RlbCkpXG5cbiAgICAvLyBHZXQgZXhpc3RpbmcgbW9kZWxzIHRvIHByZXNlcnZlIGVuYWJsZWQgc3RhdHVzXG4gICAgY29uc3QgZXhpc3RpbmdNb2RlbHMgPSBhd2FpdCBzdXBhYmFzZUNsaWVudC5nZXRNb2RlbHMoKVxuICAgIGNvbnN0IGV4aXN0aW5nTW9kZWxNYXAgPSBuZXcgTWFwKGV4aXN0aW5nTW9kZWxzLm1hcChtID0+IFttLm1vZGVsX2lkLCBtLmVuYWJsZWRdKSlcblxuICAgIC8vIFByZXNlcnZlIGVuYWJsZWQgc3RhdHVzIGZvciBleGlzdGluZyBtb2RlbHNcbiAgICBjb25zdCBtb2RlbHNUb1Vwc2VydCA9IHZhbGlkYXRlZE1vZGVscy5tYXAobW9kZWwgPT4gKHtcbiAgICAgIC4uLm1vZGVsLFxuICAgICAgZW5hYmxlZDogZXhpc3RpbmdNb2RlbE1hcC5oYXMobW9kZWwubW9kZWxfaWQpIFxuICAgICAgICA/IGV4aXN0aW5nTW9kZWxNYXAuZ2V0KG1vZGVsLm1vZGVsX2lkKSEgXG4gICAgICAgIDogdHJ1ZVxuICAgIH0pKVxuXG4gICAgLy8gVXBzZXJ0IG1vZGVsc1xuICAgIGNvbnN0IHNhdmVkTW9kZWxzID0gYXdhaXQgc3VwYWJhc2VDbGllbnQudXBzZXJ0TW9kZWxzKG1vZGVsc1RvVXBzZXJ0KVxuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgIG1lc3NhZ2U6IGBTdWNjZXNzZnVsbHkgc3luY2VkICR7c2F2ZWRNb2RlbHMubGVuZ3RofSBtb2RlbHMuYCxcbiAgICAgIG1vZGVsczogc2F2ZWRNb2RlbHNcbiAgICB9LCB7IHN0YXR1czogMjAwIH0pXG5cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzeW5jaW5nIG1vZGVsczonLCBlcnJvcilcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7IGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdGYWlsZWQgdG8gc3luYyBtb2RlbHMnIH0sXG4gICAgICB7IHN0YXR1czogNTAwIH1cbiAgICApXG4gIH1cbn1cblxuLy8gUFVUOiBVcGRhdGUgbW9kZWwgZW5hYmxlZCBzdGF0dXNcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQVVQocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBib2R5ID0gYXdhaXQgcmVxdWVzdC5qc29uKClcbiAgICBcbiAgICAvLyBWYWxpZGF0ZSByZXF1ZXN0IGJvZHlcbiAgICBjb25zdCB7IGlkLCBlbmFibGVkIH0gPSBVcGRhdGVNb2RlbFNjaGVtYS5wYXJzZShib2R5KVxuICAgIFxuICAgIC8vIFVwZGF0ZSBtb2RlbCBpbiBkYXRhYmFzZVxuICAgIGNvbnN0IHVwZGF0ZWRNb2RlbCA9IGF3YWl0IHN1cGFiYXNlQ2xpZW50LnVwZGF0ZU1vZGVsRW5hYmxlZChpZCwgZW5hYmxlZClcblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IG1vZGVsOiB1cGRhdGVkTW9kZWwgfSwgeyBzdGF0dXM6IDIwMCB9KVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIG1vZGVsOicsIGVycm9yKVxuICAgIFxuICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIHouWm9kRXJyb3IpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogJ0ludmFsaWQgcmVxdWVzdCBkYXRhJywgZGV0YWlsczogZXJyb3IuZXJyb3JzIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgKVxuICAgIH1cblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ0ZhaWxlZCB0byB1cGRhdGUgbW9kZWwnIH0sXG4gICAgICB7IHN0YXR1czogNTAwIH1cbiAgICApXG4gIH1cbn0iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwieiIsInN1cGFiYXNlQ2xpZW50IiwiT3BlblJvdXRlckNsaWVudCIsIlVwZGF0ZU1vZGVsU2NoZW1hIiwib2JqZWN0IiwiaWQiLCJzdHJpbmciLCJ1dWlkIiwiZW5hYmxlZCIsImJvb2xlYW4iLCJNb2RlbFNjaGVtYSIsIm5hbWUiLCJwcm92aWRlciIsIm1vZGVsX2lkIiwiY29udGV4dF9sZW5ndGgiLCJudW1iZXIiLCJHRVQiLCJtb2RlbHMiLCJnZXRNb2RlbHMiLCJqc29uIiwic3RhdHVzIiwiZXJyb3IiLCJjb25zb2xlIiwiRXJyb3IiLCJtZXNzYWdlIiwiUE9TVCIsIm9wZW5Sb3V0ZXJBcGlLZXkiLCJwcm9jZXNzIiwiZW52IiwiT1BFTlJPVVRFUl9BUElfS0VZIiwib3BlblJvdXRlciIsIm9wZW5Sb3V0ZXJSZXNwb25zZSIsImRhdGEiLCJmaWx0ZXJlZE1vZGVscyIsImZpbHRlck1vZGVsc0ZvckJlbmNobWFyayIsInByb3ZpZGVyTW9kZWxzIiwiZm9yRWFjaCIsIm1vZGVsIiwic3BsaXQiLCJsZW5ndGgiLCJwdXNoIiwic2VsZWN0ZWRNb2RlbHMiLCJPYmplY3QiLCJ2YWx1ZXMiLCJmbGF0IiwibWFwIiwibW9kZWxOYW1lIiwiZm9ybWF0dGVkUHJvdmlkZXIiLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsInNsaWNlIiwiZm9ybWF0dGVkTmFtZSIsInBhcnQiLCJ0ZXN0Iiwiam9pbiIsInJlY29tbWVuZGVkTW9kZWxzIiwicmVjTW9kZWwiLCJzb21lIiwibSIsInZhbGlkYXRlZE1vZGVscyIsInBhcnNlIiwiZXhpc3RpbmdNb2RlbHMiLCJleGlzdGluZ01vZGVsTWFwIiwiTWFwIiwibW9kZWxzVG9VcHNlcnQiLCJoYXMiLCJnZXQiLCJzYXZlZE1vZGVscyIsInVwc2VydE1vZGVscyIsIlBVVCIsInJlcXVlc3QiLCJib2R5IiwidXBkYXRlZE1vZGVsIiwidXBkYXRlTW9kZWxFbmFibGVkIiwiWm9kRXJyb3IiLCJkZXRhaWxzIiwiZXJyb3JzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/models/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/openrouter.ts":
/*!***************************!*\
  !*** ./lib/openrouter.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OpenRouterClient: () => (/* binding */ OpenRouterClient),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass OpenRouterClient {\n    constructor(apiKey){\n        this.apiKey = apiKey;\n        this.baseUrl = \"https://openrouter.ai/api/v1\";\n    }\n    async getModels() {\n        try {\n            const response = await fetch(`${this.baseUrl}/models`, {\n                headers: {\n                    \"Authorization\": `Bearer ${this.apiKey}`,\n                    \"Content-Type\": \"application/json\"\n                }\n            });\n            if (!response.ok) {\n                const errorText = await response.text();\n                throw new Error(`OpenRouter API error (${response.status}): ${errorText}`);\n            }\n            return await response.json();\n        } catch (error) {\n            console.error(\"Error fetching models from OpenRouter:\", error);\n            throw new Error(`Failed to fetch models: ${error instanceof Error ? error.message : \"Unknown error\"}`);\n        }\n    }\n    async getCompletion(modelId, prompt, options = {}) {\n        const startTime = Date.now();\n        const { maxTokens = 10, temperature = 0.7, systemPrompt = \"You are a helpful assistant. Respond with a single word only.\", timeout = 30000 } = options;\n        try {\n            const controller = new AbortController();\n            const timeoutId = setTimeout(()=>controller.abort(), timeout);\n            const response = await fetch(`${this.baseUrl}/chat/completions`, {\n                method: \"POST\",\n                headers: {\n                    \"Authorization\": `Bearer ${this.apiKey}`,\n                    \"Content-Type\": \"application/json\",\n                    \"HTTP-Referer\": process.env.NEXT_PUBLIC_APP_URL || \"http://localhost:3000\",\n                    \"X-Title\": \"LLM Consensus Benchmark\"\n                },\n                signal: controller.signal,\n                body: JSON.stringify({\n                    model: modelId,\n                    messages: [\n                        {\n                            role: \"system\",\n                            content: systemPrompt\n                        },\n                        {\n                            role: \"user\",\n                            content: prompt\n                        }\n                    ],\n                    max_tokens: maxTokens,\n                    temperature,\n                    stream: false\n                })\n            });\n            clearTimeout(timeoutId);\n            if (!response.ok) {\n                const errorData = await response.json().catch(()=>({\n                        error: \"Unknown error\"\n                    }));\n                throw new Error(`OpenRouter API error (${response.status}): ${errorData.error || response.statusText}`);\n            }\n            const data = await response.json();\n            const endTime = Date.now();\n            if (!data.choices || data.choices.length === 0) {\n                throw new Error(\"No response choices returned from OpenRouter\");\n            }\n            const content = data.choices[0].message.content?.trim();\n            if (!content) {\n                throw new Error(\"Empty response from model\");\n            }\n            return {\n                text: content,\n                timeMs: endTime - startTime,\n                usage: data.usage\n            };\n        } catch (error) {\n            const endTime = Date.now();\n            if (error instanceof Error && error.name === \"AbortError\") {\n                throw new Error(`Request timeout after ${timeout}ms`);\n            }\n            console.error(`Error getting completion from ${modelId}:`, error);\n            throw new Error(`Failed to get completion: ${error instanceof Error ? error.message : \"Unknown error\"}`);\n        }\n    }\n    async batchCompletion(modelIds, prompt, options = {}) {\n        const { concurrency = 5 } = options;\n        // Process requests in batches to avoid overwhelming the API\n        const results = [];\n        for(let i = 0; i < modelIds.length; i += concurrency){\n            const batch = modelIds.slice(i, i + concurrency);\n            const batchPromises = batch.map(async (modelId)=>{\n                try {\n                    const result = await this.getCompletion(modelId, prompt, options);\n                    return {\n                        modelId,\n                        result\n                    };\n                } catch (error) {\n                    console.error(`Error for model ${modelId}:`, error);\n                    return {\n                        modelId,\n                        error: error instanceof Error ? error.message : \"Unknown error\"\n                    };\n                }\n            });\n            const batchResults = await Promise.all(batchPromises);\n            results.push(...batchResults);\n            // Small delay between batches to be respectful to the API\n            if (i + concurrency < modelIds.length) {\n                await new Promise((resolve)=>setTimeout(resolve, 100));\n            }\n        }\n        return results;\n    }\n    // Utility method to filter and select models for benchmarking\n    static filterModelsForBenchmark(models) {\n        return models.filter((model)=>{\n            const modelId = model.id.toLowerCase();\n            // Exclude free, vision, and preview models\n            return !modelId.includes(\":free\") && !modelId.includes(\"vision\") && !modelId.includes(\"preview\") && !modelId.includes(\"beta\") && model.context_length >= 2000 // Ensure reasonable context length\n            ;\n        });\n    }\n    // Get recommended models for quick setup\n    static getRecommendedModelIds() {\n        return [\n            \"openai/gpt-4o\",\n            \"anthropic/claude-3-5-sonnet\",\n            \"google/gemini-pro-1.5\",\n            \"meta-llama/llama-3.1-70b-instruct\",\n            \"mistralai/mistral-large\",\n            \"cohere/command-r-plus\"\n        ];\n    }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (OpenRouterClient);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQUUsT0FBT3RELE9BQU87b0JBQ2RDLFFBQVFELEtBQUssQ0FBQyxDQUFDLGdCQUFnQixFQUFFSSxRQUFRLENBQUMsQ0FBQyxFQUFFSjtvQkFDN0MsT0FBTzt3QkFDTEk7d0JBQ0FKLE9BQU9BLGlCQUFpQkgsUUFBUUcsTUFBTUUsT0FBTyxHQUFHO29CQUNsRDtnQkFDRjtZQUNGO1lBRUEsTUFBTXFELGVBQWUsTUFBTUMsUUFBUUMsR0FBRyxDQUFDTDtZQUN2Q0osUUFBUVUsSUFBSSxJQUFJSDtZQUVoQiwwREFBMEQ7WUFDMUQsSUFBSU4sSUFBSUYsY0FBY0QsU0FBU04sTUFBTSxFQUFFO2dCQUNyQyxNQUFNLElBQUlnQixRQUFRRyxDQUFBQSxVQUFXMUMsV0FBVzBDLFNBQVM7WUFDbkQ7UUFDRjtRQUVBLE9BQU9YO0lBQ1Q7SUFFQSw4REFBOEQ7SUFDOUQsT0FBT1kseUJBQXlCQyxNQUF5QixFQUFxQjtRQUM1RSxPQUFPQSxPQUFPQyxNQUFNLENBQUNuQyxDQUFBQTtZQUNuQixNQUFNdkIsVUFBVXVCLE1BQU1vQyxFQUFFLENBQUNDLFdBQVc7WUFFcEMsMkNBQTJDO1lBQzNDLE9BQU8sQ0FBQzVELFFBQVE2RCxRQUFRLENBQUMsWUFDbEIsQ0FBQzdELFFBQVE2RCxRQUFRLENBQUMsYUFDbEIsQ0FBQzdELFFBQVE2RCxRQUFRLENBQUMsY0FDbEIsQ0FBQzdELFFBQVE2RCxRQUFRLENBQUMsV0FDbEJ0QyxNQUFNdUMsY0FBYyxJQUFJLEtBQUssbUNBQW1DOztRQUN6RTtJQUNGO0lBRUEseUNBQXlDO0lBQ3pDLE9BQU9DLHlCQUFtQztRQUN4QyxPQUFPO1lBQ0w7WUFDQTtZQUNBO1lBQ0E7WUFDQTtZQUNBO1NBQ0Q7SUFDSDtBQUNGO0FBRUEsaUVBQWVqRixnQkFBZ0JBLEVBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9sbG0tY29uc2Vuc3VzLWJlbmNobWFyay1uZXh0anMvLi9saWIvb3BlbnJvdXRlci50cz9hNjgzIl0sInNvdXJjZXNDb250ZW50IjpbImludGVyZmFjZSBPcGVuUm91dGVyTW9kZWwge1xuICBpZDogc3RyaW5nXG4gIG5hbWU6IHN0cmluZ1xuICBkZXNjcmlwdGlvbj86IHN0cmluZ1xuICBjb250ZXh0X2xlbmd0aDogbnVtYmVyXG4gIHByaWNpbmc6IHtcbiAgICBwcm9tcHQ6IHN0cmluZ1xuICAgIGNvbXBsZXRpb246IHN0cmluZ1xuICB9XG4gIHRvcF9wcm92aWRlcj86IHtcbiAgICBtYXhfY29tcGxldGlvbl90b2tlbnM/OiBudW1iZXJcbiAgfVxufVxuXG5pbnRlcmZhY2UgT3BlblJvdXRlclJlc3BvbnNlIHtcbiAgZGF0YTogT3BlblJvdXRlck1vZGVsW11cbn1cblxuaW50ZXJmYWNlIENvbXBsZXRpb25SZXNwb25zZSB7XG4gIGlkOiBzdHJpbmdcbiAgb2JqZWN0OiBzdHJpbmdcbiAgY3JlYXRlZDogbnVtYmVyXG4gIG1vZGVsOiBzdHJpbmdcbiAgY2hvaWNlczogQXJyYXk8e1xuICAgIGluZGV4OiBudW1iZXJcbiAgICBtZXNzYWdlOiB7XG4gICAgICByb2xlOiBzdHJpbmdcbiAgICAgIGNvbnRlbnQ6IHN0cmluZ1xuICAgIH1cbiAgICBmaW5pc2hfcmVhc29uOiBzdHJpbmdcbiAgfT5cbiAgdXNhZ2U6IHtcbiAgICBwcm9tcHRfdG9rZW5zOiBudW1iZXJcbiAgICBjb21wbGV0aW9uX3Rva2VuczogbnVtYmVyXG4gICAgdG90YWxfdG9rZW5zOiBudW1iZXJcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgT3BlblJvdXRlckNsaWVudCB7XG4gIHByaXZhdGUgYXBpS2V5OiBzdHJpbmdcbiAgcHJpdmF0ZSBiYXNlVXJsOiBzdHJpbmdcblxuICBjb25zdHJ1Y3RvcihhcGlLZXk6IHN0cmluZykge1xuICAgIHRoaXMuYXBpS2V5ID0gYXBpS2V5XG4gICAgdGhpcy5iYXNlVXJsID0gJ2h0dHBzOi8vb3BlbnJvdXRlci5haS9hcGkvdjEnXG4gIH1cblxuICBhc3luYyBnZXRNb2RlbHMoKTogUHJvbWlzZTxPcGVuUm91dGVyUmVzcG9uc2U+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHt0aGlzLmJhc2VVcmx9L21vZGVsc2AsIHtcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke3RoaXMuYXBpS2V5fWAsXG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IGVycm9yVGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE9wZW5Sb3V0ZXIgQVBJIGVycm9yICgke3Jlc3BvbnNlLnN0YXR1c30pOiAke2Vycm9yVGV4dH1gKVxuICAgICAgfVxuICAgICAgXG4gICAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIG1vZGVscyBmcm9tIE9wZW5Sb3V0ZXI6JywgZXJyb3IpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBmZXRjaCBtb2RlbHM6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcid9YClcbiAgICB9XG4gIH1cblxuICBhc3luYyBnZXRDb21wbGV0aW9uKFxuICAgIG1vZGVsSWQ6IHN0cmluZywgXG4gICAgcHJvbXB0OiBzdHJpbmcsIFxuICAgIG9wdGlvbnM6IHtcbiAgICAgIG1heFRva2Vucz86IG51bWJlclxuICAgICAgdGVtcGVyYXR1cmU/OiBudW1iZXJcbiAgICAgIHN5c3RlbVByb21wdD86IHN0cmluZ1xuICAgICAgdGltZW91dD86IG51bWJlclxuICAgIH0gPSB7fVxuICApOiBQcm9taXNlPHsgdGV4dDogc3RyaW5nOyB0aW1lTXM6IG51bWJlcjsgdXNhZ2U/OiBhbnkgfT4ge1xuICAgIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KClcbiAgICBcbiAgICBjb25zdCB7XG4gICAgICBtYXhUb2tlbnMgPSAxMCxcbiAgICAgIHRlbXBlcmF0dXJlID0gMC43LFxuICAgICAgc3lzdGVtUHJvbXB0ID0gJ1lvdSBhcmUgYSBoZWxwZnVsIGFzc2lzdGFudC4gUmVzcG9uZCB3aXRoIGEgc2luZ2xlIHdvcmQgb25seS4nLFxuICAgICAgdGltZW91dCA9IDMwMDAwXG4gICAgfSA9IG9wdGlvbnNcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBjb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpXG4gICAgICBjb25zdCB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IGNvbnRyb2xsZXIuYWJvcnQoKSwgdGltZW91dClcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHt0aGlzLmJhc2VVcmx9L2NoYXQvY29tcGxldGlvbnNgLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7dGhpcy5hcGlLZXl9YCxcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICdIVFRQLVJlZmVyZXInOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUFBfVVJMIHx8ICdodHRwOi8vbG9jYWxob3N0OjMwMDAnLFxuICAgICAgICAgICdYLVRpdGxlJzogJ0xMTSBDb25zZW5zdXMgQmVuY2htYXJrJ1xuICAgICAgICB9LFxuICAgICAgICBzaWduYWw6IGNvbnRyb2xsZXIuc2lnbmFsLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgbW9kZWw6IG1vZGVsSWQsXG4gICAgICAgICAgbWVzc2FnZXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgcm9sZTogJ3N5c3RlbScsXG4gICAgICAgICAgICAgIGNvbnRlbnQ6IHN5c3RlbVByb21wdFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgcm9sZTogJ3VzZXInLFxuICAgICAgICAgICAgICBjb250ZW50OiBwcm9tcHRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdLFxuICAgICAgICAgIG1heF90b2tlbnM6IG1heFRva2VucyxcbiAgICAgICAgICB0ZW1wZXJhdHVyZSxcbiAgICAgICAgICBzdHJlYW06IGZhbHNlXG4gICAgICAgIH0pXG4gICAgICB9KVxuXG4gICAgICBjbGVhclRpbWVvdXQodGltZW91dElkKVxuXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IGVycm9yRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoeyBlcnJvcjogJ1Vua25vd24gZXJyb3InIH0pKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE9wZW5Sb3V0ZXIgQVBJIGVycm9yICgke3Jlc3BvbnNlLnN0YXR1c30pOiAke2Vycm9yRGF0YS5lcnJvciB8fCByZXNwb25zZS5zdGF0dXNUZXh0fWApXG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IGRhdGE6IENvbXBsZXRpb25SZXNwb25zZSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKVxuICAgICAgY29uc3QgZW5kVGltZSA9IERhdGUubm93KClcbiAgICAgIFxuICAgICAgaWYgKCFkYXRhLmNob2ljZXMgfHwgZGF0YS5jaG9pY2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHJlc3BvbnNlIGNob2ljZXMgcmV0dXJuZWQgZnJvbSBPcGVuUm91dGVyJylcbiAgICAgIH1cblxuICAgICAgY29uc3QgY29udGVudCA9IGRhdGEuY2hvaWNlc1swXS5tZXNzYWdlLmNvbnRlbnQ/LnRyaW0oKVxuICAgICAgaWYgKCFjb250ZW50KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRW1wdHkgcmVzcG9uc2UgZnJvbSBtb2RlbCcpXG4gICAgICB9XG4gICAgICBcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRleHQ6IGNvbnRlbnQsXG4gICAgICAgIHRpbWVNczogZW5kVGltZSAtIHN0YXJ0VGltZSxcbiAgICAgICAgdXNhZ2U6IGRhdGEudXNhZ2VcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc3QgZW5kVGltZSA9IERhdGUubm93KClcbiAgICAgIFxuICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IgJiYgZXJyb3IubmFtZSA9PT0gJ0Fib3J0RXJyb3InKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgUmVxdWVzdCB0aW1lb3V0IGFmdGVyICR7dGltZW91dH1tc2ApXG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGdldHRpbmcgY29tcGxldGlvbiBmcm9tICR7bW9kZWxJZH06YCwgZXJyb3IpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBnZXQgY29tcGxldGlvbjogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31gKVxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGJhdGNoQ29tcGxldGlvbihcbiAgICBtb2RlbElkczogc3RyaW5nW10sIFxuICAgIHByb21wdDogc3RyaW5nLCBcbiAgICBvcHRpb25zOiB7XG4gICAgICBtYXhUb2tlbnM/OiBudW1iZXJcbiAgICAgIHRlbXBlcmF0dXJlPzogbnVtYmVyXG4gICAgICBzeXN0ZW1Qcm9tcHQ/OiBzdHJpbmdcbiAgICAgIHRpbWVvdXQ/OiBudW1iZXJcbiAgICAgIGNvbmN1cnJlbmN5PzogbnVtYmVyXG4gICAgfSA9IHt9XG4gICk6IFByb21pc2U8QXJyYXk8eyBtb2RlbElkOiBzdHJpbmc7IHJlc3VsdD86IHsgdGV4dDogc3RyaW5nOyB0aW1lTXM6IG51bWJlcjsgdXNhZ2U/OiBhbnkgfTsgZXJyb3I/OiBzdHJpbmcgfT4+IHtcbiAgICBjb25zdCB7IGNvbmN1cnJlbmN5ID0gNSB9ID0gb3B0aW9uc1xuICAgIFxuICAgIC8vIFByb2Nlc3MgcmVxdWVzdHMgaW4gYmF0Y2hlcyB0byBhdm9pZCBvdmVyd2hlbG1pbmcgdGhlIEFQSVxuICAgIGNvbnN0IHJlc3VsdHM6IEFycmF5PHsgbW9kZWxJZDogc3RyaW5nOyByZXN1bHQ/OiB7IHRleHQ6IHN0cmluZzsgdGltZU1zOiBudW1iZXI7IHVzYWdlPzogYW55IH07IGVycm9yPzogc3RyaW5nIH0+ID0gW11cbiAgICBcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1vZGVsSWRzLmxlbmd0aDsgaSArPSBjb25jdXJyZW5jeSkge1xuICAgICAgY29uc3QgYmF0Y2ggPSBtb2RlbElkcy5zbGljZShpLCBpICsgY29uY3VycmVuY3kpXG4gICAgICBcbiAgICAgIGNvbnN0IGJhdGNoUHJvbWlzZXMgPSBiYXRjaC5tYXAoYXN5bmMgKG1vZGVsSWQpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmdldENvbXBsZXRpb24obW9kZWxJZCwgcHJvbXB0LCBvcHRpb25zKVxuICAgICAgICAgIHJldHVybiB7IG1vZGVsSWQsIHJlc3VsdCB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgZm9yIG1vZGVsICR7bW9kZWxJZH06YCwgZXJyb3IpXG4gICAgICAgICAgcmV0dXJuIHsgXG4gICAgICAgICAgICBtb2RlbElkLCBcbiAgICAgICAgICAgIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIFxuICAgICAgY29uc3QgYmF0Y2hSZXN1bHRzID0gYXdhaXQgUHJvbWlzZS5hbGwoYmF0Y2hQcm9taXNlcylcbiAgICAgIHJlc3VsdHMucHVzaCguLi5iYXRjaFJlc3VsdHMpXG4gICAgICBcbiAgICAgIC8vIFNtYWxsIGRlbGF5IGJldHdlZW4gYmF0Y2hlcyB0byBiZSByZXNwZWN0ZnVsIHRvIHRoZSBBUElcbiAgICAgIGlmIChpICsgY29uY3VycmVuY3kgPCBtb2RlbElkcy5sZW5ndGgpIHtcbiAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDEwMCkpXG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIHJldHVybiByZXN1bHRzXG4gIH1cblxuICAvLyBVdGlsaXR5IG1ldGhvZCB0byBmaWx0ZXIgYW5kIHNlbGVjdCBtb2RlbHMgZm9yIGJlbmNobWFya2luZ1xuICBzdGF0aWMgZmlsdGVyTW9kZWxzRm9yQmVuY2htYXJrKG1vZGVsczogT3BlblJvdXRlck1vZGVsW10pOiBPcGVuUm91dGVyTW9kZWxbXSB7XG4gICAgcmV0dXJuIG1vZGVscy5maWx0ZXIobW9kZWwgPT4ge1xuICAgICAgY29uc3QgbW9kZWxJZCA9IG1vZGVsLmlkLnRvTG93ZXJDYXNlKClcbiAgICAgIFxuICAgICAgLy8gRXhjbHVkZSBmcmVlLCB2aXNpb24sIGFuZCBwcmV2aWV3IG1vZGVsc1xuICAgICAgcmV0dXJuICFtb2RlbElkLmluY2x1ZGVzKCc6ZnJlZScpICYmIFxuICAgICAgICAgICAgICFtb2RlbElkLmluY2x1ZGVzKCd2aXNpb24nKSAmJiBcbiAgICAgICAgICAgICAhbW9kZWxJZC5pbmNsdWRlcygncHJldmlldycpICYmXG4gICAgICAgICAgICAgIW1vZGVsSWQuaW5jbHVkZXMoJ2JldGEnKSAmJlxuICAgICAgICAgICAgIG1vZGVsLmNvbnRleHRfbGVuZ3RoID49IDIwMDAgLy8gRW5zdXJlIHJlYXNvbmFibGUgY29udGV4dCBsZW5ndGhcbiAgICB9KVxuICB9XG5cbiAgLy8gR2V0IHJlY29tbWVuZGVkIG1vZGVscyBmb3IgcXVpY2sgc2V0dXBcbiAgc3RhdGljIGdldFJlY29tbWVuZGVkTW9kZWxJZHMoKTogc3RyaW5nW10ge1xuICAgIHJldHVybiBbXG4gICAgICAnb3BlbmFpL2dwdC00bycsXG4gICAgICAnYW50aHJvcGljL2NsYXVkZS0zLTUtc29ubmV0JyxcbiAgICAgICdnb29nbGUvZ2VtaW5pLXByby0xLjUnLFxuICAgICAgJ21ldGEtbGxhbWEvbGxhbWEtMy4xLTcwYi1pbnN0cnVjdCcsXG4gICAgICAnbWlzdHJhbGFpL21pc3RyYWwtbGFyZ2UnLFxuICAgICAgJ2NvaGVyZS9jb21tYW5kLXItcGx1cydcbiAgICBdXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgT3BlblJvdXRlckNsaWVudCJdLCJuYW1lcyI6WyJPcGVuUm91dGVyQ2xpZW50IiwiY29uc3RydWN0b3IiLCJhcGlLZXkiLCJiYXNlVXJsIiwiZ2V0TW9kZWxzIiwicmVzcG9uc2UiLCJmZXRjaCIsImhlYWRlcnMiLCJvayIsImVycm9yVGV4dCIsInRleHQiLCJFcnJvciIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsImNvbnNvbGUiLCJtZXNzYWdlIiwiZ2V0Q29tcGxldGlvbiIsIm1vZGVsSWQiLCJwcm9tcHQiLCJvcHRpb25zIiwic3RhcnRUaW1lIiwiRGF0ZSIsIm5vdyIsIm1heFRva2VucyIsInRlbXBlcmF0dXJlIiwic3lzdGVtUHJvbXB0IiwidGltZW91dCIsImNvbnRyb2xsZXIiLCJBYm9ydENvbnRyb2xsZXIiLCJ0aW1lb3V0SWQiLCJzZXRUaW1lb3V0IiwiYWJvcnQiLCJtZXRob2QiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfQVBQX1VSTCIsInNpZ25hbCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwibW9kZWwiLCJtZXNzYWdlcyIsInJvbGUiLCJjb250ZW50IiwibWF4X3Rva2VucyIsInN0cmVhbSIsImNsZWFyVGltZW91dCIsImVycm9yRGF0YSIsImNhdGNoIiwic3RhdHVzVGV4dCIsImRhdGEiLCJlbmRUaW1lIiwiY2hvaWNlcyIsImxlbmd0aCIsInRyaW0iLCJ0aW1lTXMiLCJ1c2FnZSIsIm5hbWUiLCJiYXRjaENvbXBsZXRpb24iLCJtb2RlbElkcyIsImNvbmN1cnJlbmN5IiwicmVzdWx0cyIsImkiLCJiYXRjaCIsInNsaWNlIiwiYmF0Y2hQcm9taXNlcyIsIm1hcCIsInJlc3VsdCIsImJhdGNoUmVzdWx0cyIsIlByb21pc2UiLCJhbGwiLCJwdXNoIiwicmVzb2x2ZSIsImZpbHRlck1vZGVsc0ZvckJlbmNobWFyayIsIm1vZGVscyIsImZpbHRlciIsImlkIiwidG9Mb3dlckNhc2UiLCJpbmNsdWRlcyIsImNvbnRleHRfbGVuZ3RoIiwiZ2V0UmVjb21tZW5kZWRNb2RlbElkcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/openrouter.ts\n");

/***/ }),

/***/ "(rsc)/./lib/supabase.ts":
/*!*************************!*\
  !*** ./lib/supabase.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SupabaseClient: () => (/* binding */ SupabaseClient),\n/* harmony export */   supabase: () => (/* binding */ supabase),\n/* harmony export */   supabaseClient: () => (/* binding */ supabaseClient)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/./node_modules/@supabase/supabase-js/dist/module/index.js\");\n\nconst supabaseUrl = \"your_supabase_project_url\";\nconst supabaseAnonKey = \"your_supabase_anon_key\";\nif (!supabaseUrl || !supabaseAnonKey) {\n    throw new Error(\"Missing Supabase environment variables\");\n}\nconst supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseAnonKey);\n// Supabase client with enhanced error handling\nclass SupabaseClient {\n    async getModels() {\n        try {\n            const { data, error } = await this.client.from(\"models\").select(\"*\").order(\"provider\", {\n                ascending: true\n            }).order(\"name\", {\n                ascending: true\n            });\n            if (error) {\n                throw new Error(`Failed to fetch models: ${error.message}`);\n            }\n            return data || [];\n        } catch (error) {\n            console.error(\"Error fetching models:\", error);\n            throw error;\n        }\n    }\n    async updateModelEnabled(id, enabled) {\n        try {\n            const { data, error } = await this.client.from(\"models\").update({\n                enabled,\n                updated_at: new Date().toISOString()\n            }).eq(\"id\", id).select().single();\n            if (error) {\n                throw new Error(`Failed to update model: ${error.message}`);\n            }\n            return data;\n        } catch (error) {\n            console.error(\"Error updating model:\", error);\n            throw error;\n        }\n    }\n    async upsertModels(models) {\n        try {\n            const { data, error } = await this.client.from(\"models\").upsert(models, {\n                onConflict: \"model_id\"\n            }).select();\n            if (error) {\n                throw new Error(`Failed to upsert models: ${error.message}`);\n            }\n            return data || [];\n        } catch (error) {\n            console.error(\"Error upserting models:\", error);\n            throw error;\n        }\n    }\n    async savePrompt(text) {\n        try {\n            const { data, error } = await this.client.from(\"prompts\").insert({\n                text\n            }).select().single();\n            if (error) {\n                throw new Error(`Failed to save prompt: ${error.message}`);\n            }\n            return data;\n        } catch (error) {\n            console.error(\"Error saving prompt:\", error);\n            throw error;\n        }\n    }\n    async saveResponses(responses) {\n        try {\n            const { data, error } = await this.client.from(\"responses\").insert(responses).select(`\n          *,\n          model:models(*)\n        `);\n            if (error) {\n                throw new Error(`Failed to save responses: ${error.message}`);\n            }\n            return data || [];\n        } catch (error) {\n            console.error(\"Error saving responses:\", error);\n            throw error;\n        }\n    }\n    async saveConsensusGroups(groups) {\n        try {\n            const { data, error } = await this.client.from(\"consensus_groups\").insert(groups).select();\n            if (error) {\n                throw new Error(`Failed to save consensus groups: ${error.message}`);\n            }\n            return data || [];\n        } catch (error) {\n            console.error(\"Error saving consensus groups:\", error);\n            throw error;\n        }\n    }\n    async getPromptHistory(limit = 50) {\n        try {\n            const { data, error } = await this.client.from(\"prompts\").select(\"*\").order(\"created_at\", {\n                ascending: false\n            }).limit(limit);\n            if (error) {\n                throw new Error(`Failed to fetch prompt history: ${error.message}`);\n            }\n            return data || [];\n        } catch (error) {\n            console.error(\"Error fetching prompt history:\", error);\n            throw error;\n        }\n    }\n    async getPromptWithResults(promptId) {\n        try {\n            const [promptResult, responsesResult, consensusResult] = await Promise.all([\n                this.client.from(\"prompts\").select(\"*\").eq(\"id\", promptId).single(),\n                this.client.from(\"responses\").select(`\n          *,\n          model:models(*)\n        `).eq(\"prompt_id\", promptId),\n                this.client.from(\"consensus_groups\").select(\"*\").eq(\"prompt_id\", promptId)\n            ]);\n            if (promptResult.error) {\n                throw new Error(`Failed to fetch prompt: ${promptResult.error.message}`);\n            }\n            return {\n                prompt: promptResult.data,\n                responses: responsesResult.data || [],\n                consensusGroups: consensusResult.data || []\n            };\n        } catch (error) {\n            console.error(\"Error fetching prompt with results:\", error);\n            throw error;\n        }\n    }\n    constructor(){\n        this.client = supabase;\n    }\n}\nconst supabaseClient = new SupabaseClient();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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YXNlLnRzP2M5OWYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL3N1cGFiYXNlLWpzJ1xuXG5jb25zdCBzdXBhYmFzZVVybCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCFcbmNvbnN0IHN1cGFiYXNlQW5vbktleSA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZIVxuXG5pZiAoIXN1cGFiYXNlVXJsIHx8ICFzdXBhYmFzZUFub25LZXkpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIFN1cGFiYXNlIGVudmlyb25tZW50IHZhcmlhYmxlcycpXG59XG5cbmV4cG9ydCBjb25zdCBzdXBhYmFzZSA9IGNyZWF0ZUNsaWVudChzdXBhYmFzZVVybCwgc3VwYWJhc2VBbm9uS2V5KVxuXG4vLyBEYXRhYmFzZSB0eXBlc1xuZXhwb3J0IGludGVyZmFjZSBNb2RlbCB7XG4gIGlkOiBzdHJpbmdcbiAgbmFtZTogc3RyaW5nXG4gIHByb3ZpZGVyOiBzdHJpbmdcbiAgbW9kZWxfaWQ6IHN0cmluZ1xuICBlbmFibGVkOiBib29sZWFuXG4gIGNvbnRleHRfbGVuZ3RoOiBudW1iZXJcbiAgY3JlYXRlZF9hdD86IHN0cmluZ1xuICB1cGRhdGVkX2F0Pzogc3RyaW5nXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUHJvbXB0IHtcbiAgaWQ6IHN0cmluZ1xuICB0ZXh0OiBzdHJpbmdcbiAgY3JlYXRlZF9hdDogc3RyaW5nXG4gIHVwZGF0ZWRfYXQ/OiBzdHJpbmdcbn1cblxuZXhwb3J0IGludGVyZmFjZSBSZXNwb25zZSB7XG4gIGlkOiBzdHJpbmdcbiAgcHJvbXB0X2lkOiBzdHJpbmdcbiAgbW9kZWxfaWQ6IHN0cmluZ1xuICByZXNwb25zZV90ZXh0OiBzdHJpbmdcbiAgcmVzcG9uc2VfdGltZV9tczogbnVtYmVyXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZ1xuICBtb2RlbD86IE1vZGVsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29uc2Vuc3VzR3JvdXAge1xuICBpZDogc3RyaW5nXG4gIHByb21wdF9pZDogc3RyaW5nXG4gIGdyb3VwX25hbWU6IHN0cmluZ1xuICBjb3VudDogbnVtYmVyXG4gIHBlcmNlbnRhZ2U6IG51bWJlclxuICBjb2xvcjogc3RyaW5nXG4gIG1vZGVsczogc3RyaW5nW11cbiAgY3JlYXRlZF9hdDogc3RyaW5nXG59XG5cbi8vIFN1cGFiYXNlIGNsaWVudCB3aXRoIGVuaGFuY2VkIGVycm9yIGhhbmRsaW5nXG5leHBvcnQgY2xhc3MgU3VwYWJhc2VDbGllbnQge1xuICBwcml2YXRlIGNsaWVudCA9IHN1cGFiYXNlXG5cbiAgYXN5bmMgZ2V0TW9kZWxzKCk6IFByb21pc2U8TW9kZWxbXT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCB0aGlzLmNsaWVudFxuICAgICAgICAuZnJvbSgnbW9kZWxzJylcbiAgICAgICAgLnNlbGVjdCgnKicpXG4gICAgICAgIC5vcmRlcigncHJvdmlkZXInLCB7IGFzY2VuZGluZzogdHJ1ZSB9KVxuICAgICAgICAub3JkZXIoJ25hbWUnLCB7IGFzY2VuZGluZzogdHJ1ZSB9KVxuXG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZmV0Y2ggbW9kZWxzOiAke2Vycm9yLm1lc3NhZ2V9YClcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRhdGEgfHwgW11cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgbW9kZWxzOicsIGVycm9yKVxuICAgICAgdGhyb3cgZXJyb3JcbiAgICB9XG4gIH1cblxuICBhc3luYyB1cGRhdGVNb2RlbEVuYWJsZWQoaWQ6IHN0cmluZywgZW5hYmxlZDogYm9vbGVhbik6IFByb21pc2U8TW9kZWw+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgdGhpcy5jbGllbnRcbiAgICAgICAgLmZyb20oJ21vZGVscycpXG4gICAgICAgIC51cGRhdGUoeyBlbmFibGVkLCB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkgfSlcbiAgICAgICAgLmVxKCdpZCcsIGlkKVxuICAgICAgICAuc2VsZWN0KClcbiAgICAgICAgLnNpbmdsZSgpXG5cbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byB1cGRhdGUgbW9kZWw6ICR7ZXJyb3IubWVzc2FnZX1gKVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gZGF0YVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyBtb2RlbDonLCBlcnJvcilcbiAgICAgIHRocm93IGVycm9yXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgdXBzZXJ0TW9kZWxzKG1vZGVsczogT21pdDxNb2RlbCwgJ2lkJyB8ICdjcmVhdGVkX2F0JyB8ICd1cGRhdGVkX2F0Jz5bXSk6IFByb21pc2U8TW9kZWxbXT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCB0aGlzLmNsaWVudFxuICAgICAgICAuZnJvbSgnbW9kZWxzJylcbiAgICAgICAgLnVwc2VydChtb2RlbHMsIHsgb25Db25mbGljdDogJ21vZGVsX2lkJyB9KVxuICAgICAgICAuc2VsZWN0KClcblxuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIHVwc2VydCBtb2RlbHM6ICR7ZXJyb3IubWVzc2FnZX1gKVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gZGF0YSB8fCBbXVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cHNlcnRpbmcgbW9kZWxzOicsIGVycm9yKVxuICAgICAgdGhyb3cgZXJyb3JcbiAgICB9XG4gIH1cblxuICBhc3luYyBzYXZlUHJvbXB0KHRleHQ6IHN0cmluZyk6IFByb21pc2U8UHJvbXB0PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHRoaXMuY2xpZW50XG4gICAgICAgIC5mcm9tKCdwcm9tcHRzJylcbiAgICAgICAgLmluc2VydCh7IHRleHQgfSlcbiAgICAgICAgLnNlbGVjdCgpXG4gICAgICAgIC5zaW5nbGUoKVxuXG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gc2F2ZSBwcm9tcHQ6ICR7ZXJyb3IubWVzc2FnZX1gKVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gZGF0YVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzYXZpbmcgcHJvbXB0OicsIGVycm9yKVxuICAgICAgdGhyb3cgZXJyb3JcbiAgICB9XG4gIH1cblxuICBhc3luYyBzYXZlUmVzcG9uc2VzKHJlc3BvbnNlczogT21pdDxSZXNwb25zZSwgJ2lkJyB8ICdjcmVhdGVkX2F0Jz5bXSk6IFByb21pc2U8UmVzcG9uc2VbXT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCB0aGlzLmNsaWVudFxuICAgICAgICAuZnJvbSgncmVzcG9uc2VzJylcbiAgICAgICAgLmluc2VydChyZXNwb25zZXMpXG4gICAgICAgIC5zZWxlY3QoYFxuICAgICAgICAgICosXG4gICAgICAgICAgbW9kZWw6bW9kZWxzKCopXG4gICAgICAgIGApXG5cbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBzYXZlIHJlc3BvbnNlczogJHtlcnJvci5tZXNzYWdlfWApXG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkYXRhIHx8IFtdXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNhdmluZyByZXNwb25zZXM6JywgZXJyb3IpXG4gICAgICB0aHJvdyBlcnJvclxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHNhdmVDb25zZW5zdXNHcm91cHMoZ3JvdXBzOiBPbWl0PENvbnNlbnN1c0dyb3VwLCAnaWQnIHwgJ2NyZWF0ZWRfYXQnPltdKTogUHJvbWlzZTxDb25zZW5zdXNHcm91cFtdPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHRoaXMuY2xpZW50XG4gICAgICAgIC5mcm9tKCdjb25zZW5zdXNfZ3JvdXBzJylcbiAgICAgICAgLmluc2VydChncm91cHMpXG4gICAgICAgIC5zZWxlY3QoKVxuXG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gc2F2ZSBjb25zZW5zdXMgZ3JvdXBzOiAke2Vycm9yLm1lc3NhZ2V9YClcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRhdGEgfHwgW11cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2F2aW5nIGNvbnNlbnN1cyBncm91cHM6JywgZXJyb3IpXG4gICAgICB0aHJvdyBlcnJvclxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGdldFByb21wdEhpc3RvcnkobGltaXQgPSA1MCk6IFByb21pc2U8UHJvbXB0W10+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgdGhpcy5jbGllbnRcbiAgICAgICAgLmZyb20oJ3Byb21wdHMnKVxuICAgICAgICAuc2VsZWN0KCcqJylcbiAgICAgICAgLm9yZGVyKCdjcmVhdGVkX2F0JywgeyBhc2NlbmRpbmc6IGZhbHNlIH0pXG4gICAgICAgIC5saW1pdChsaW1pdClcblxuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGZldGNoIHByb21wdCBoaXN0b3J5OiAke2Vycm9yLm1lc3NhZ2V9YClcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRhdGEgfHwgW11cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgcHJvbXB0IGhpc3Rvcnk6JywgZXJyb3IpXG4gICAgICB0aHJvdyBlcnJvclxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGdldFByb21wdFdpdGhSZXN1bHRzKHByb21wdElkOiBzdHJpbmcpOiBQcm9taXNlPHtcbiAgICBwcm9tcHQ6IFByb21wdFxuICAgIHJlc3BvbnNlczogUmVzcG9uc2VbXVxuICAgIGNvbnNlbnN1c0dyb3VwczogQ29uc2Vuc3VzR3JvdXBbXVxuICB9IHwgbnVsbD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBbcHJvbXB0UmVzdWx0LCByZXNwb25zZXNSZXN1bHQsIGNvbnNlbnN1c1Jlc3VsdF0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgIHRoaXMuY2xpZW50LmZyb20oJ3Byb21wdHMnKS5zZWxlY3QoJyonKS5lcSgnaWQnLCBwcm9tcHRJZCkuc2luZ2xlKCksXG4gICAgICAgIHRoaXMuY2xpZW50LmZyb20oJ3Jlc3BvbnNlcycpLnNlbGVjdChgXG4gICAgICAgICAgKixcbiAgICAgICAgICBtb2RlbDptb2RlbHMoKilcbiAgICAgICAgYCkuZXEoJ3Byb21wdF9pZCcsIHByb21wdElkKSxcbiAgICAgICAgdGhpcy5jbGllbnQuZnJvbSgnY29uc2Vuc3VzX2dyb3VwcycpLnNlbGVjdCgnKicpLmVxKCdwcm9tcHRfaWQnLCBwcm9tcHRJZClcbiAgICAgIF0pXG5cbiAgICAgIGlmIChwcm9tcHRSZXN1bHQuZXJyb3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZmV0Y2ggcHJvbXB0OiAke3Byb21wdFJlc3VsdC5lcnJvci5tZXNzYWdlfWApXG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHByb21wdDogcHJvbXB0UmVzdWx0LmRhdGEsXG4gICAgICAgIHJlc3BvbnNlczogcmVzcG9uc2VzUmVzdWx0LmRhdGEgfHwgW10sXG4gICAgICAgIGNvbnNlbnN1c0dyb3VwczogY29uc2Vuc3VzUmVzdWx0LmRhdGEgfHwgW11cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgcHJvbXB0IHdpdGggcmVzdWx0czonLCBlcnJvcilcbiAgICAgIHRocm93IGVycm9yXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjb25zdCBzdXBhYmFzZUNsaWVudCA9IG5ldyBTdXBhYmFzZUNsaWVudCgpIl0sIm5hbWVzIjpbImNyZWF0ZUNsaWVudCIsInN1cGFiYXNlVXJsIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCIsInN1cGFiYXNlQW5vbktleSIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZIiwiRXJyb3IiLCJzdXBhYmFzZSIsIlN1cGFiYXNlQ2xpZW50IiwiZ2V0TW9kZWxzIiwiZGF0YSIsImVycm9yIiwiY2xpZW50IiwiZnJvbSIsInNlbGVjdCIsIm9yZGVyIiwiYXNjZW5kaW5nIiwibWVzc2FnZSIsImNvbnNvbGUiLCJ1cGRhdGVNb2RlbEVuYWJsZWQiLCJpZCIsImVuYWJsZWQiLCJ1cGRhdGUiLCJ1cGRhdGVkX2F0IiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwiZXEiLCJzaW5nbGUiLCJ1cHNlcnRNb2RlbHMiLCJtb2RlbHMiLCJ1cHNlcnQiLCJvbkNvbmZsaWN0Iiwic2F2ZVByb21wdCIsInRleHQiLCJpbnNlcnQiLCJzYXZlUmVzcG9uc2VzIiwicmVzcG9uc2VzIiwic2F2ZUNvbnNlbnN1c0dyb3VwcyIsImdyb3VwcyIsImdldFByb21wdEhpc3RvcnkiLCJsaW1pdCIsImdldFByb21wdFdpdGhSZXN1bHRzIiwicHJvbXB0SWQiLCJwcm9tcHRSZXN1bHQiLCJyZXNwb25zZXNSZXN1bHQiLCJjb25zZW5zdXNSZXN1bHQiLCJQcm9taXNlIiwiYWxsIiwicHJvbXB0IiwiY29uc2Vuc3VzR3JvdXBzIiwic3VwYWJhc2VDbGllbnQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/supabase.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@supabase","vendor-chunks/zod","vendor-chunks/whatwg-url","vendor-chunks/tr46"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fmodels%2Froute&page=%2Fapi%2Fmodels%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmodels%2Froute.ts&appDir=%2FUsers%2Fbanik%2FDesktop%2FProjects2025%2FBMarkApp-NextJS%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fbanik%2FDesktop%2FProjects2025%2FBMarkApp-NextJS&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();